<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML LANG="en">
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 7.0/HTML Export Filter">

<LINK REL="STYLESHEET" HREF="unx_unstr_styles.css" CHARSET="ISO-8859-1" TYPE="text/css">
<META name="DC.TITLE" content="Virtual Machine Specification, Java Card Platform, v2.2.2">
<TITLE>C H A P T E R    6 - The CAP File Format 
</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV>
<div class="navbar" align="center">
<table dir="LTR" summary="Navigation bar, includes the book title and navigation buttons" width=100% cellpadding="0" cellspacing="0" border="0"><colgroup span="2" width="100%"><col id="1" span="1" width="50%"><col id="2" span="1" width="50%">
<tr bgcolor="#cccccc">
<td class="navbartitle" align=left rowspan="1" colspan="1" abbr="ChapTitle">&nbsp;&nbsp;Virtual Machine Specification, Java Card Platform, v2.2.2
</td>
<td valign="top" align="right" rowspan="1" colspan="1" abbr="NavButtons"><a href="index.html"><img src="shared/toc01.gif" title="Table Of Contents" alt="Table Of Contents" width="30" height="26" border="0"></a><a href="JCVM05export.html"><img src="shared/prev01.gif" title="Previous Chapter" alt="Previous Chapter" width="30" height="26" border="0"></a><a href="JCVM07instr.html"><img src="shared/next01.gif" title="Next Chapter" alt="Next Chapter" width="30" height="26" border="0"></a><a href="ix.html"><img src="shared/index01.gif" title="Book Index" alt="Book Index" width="30" height="26" border="0"></a>
</td>
</tr>
</table>
<br>
<br>
</div>
</DIV>
<TABLE DIR="LTR" SUMMARY="Chapter Number" ABBR="ChapNum" WIDTH="100%" BORDER="0">
<COLGROUP SPAN="1" WIDTH="100%"><COL ID="1" SPAN="1">
<TR>
<TD ALIGN="right" CLASS="ChapNumber"><SPAN CLASS="ChapNumPrefix"><A NAME="pgfId-53138"></A>C H A P T E R    </SPAN>&nbsp;<SPAN CLASS="ChapNumNum">6</SPAN><A NAME="74217"></A>
</TD>
</TR>
</TABLE>
<TABLE DIR="LTR" SUMMARY="Chapter Title" ABBR="ChapTitle" WIDTH="100%" BORDER="0">
<COLGROUP SPAN="1" WIDTH="100%"><COL ID="1" SPAN="1" WIDTH="100%">
<TR>
<TD ALIGN="right" CLASS="ChapTitle">
<HR SIZE=7 NOSHADE><A NAME="pgfId-53140"></A><A NAME="12322"></A>The <A NAME="marker-54587"></A>CAP File Format
</TD>
</TR>
</TABLE>
<P CLASS="Paragraph"><A NAME="pgfId-6950"></A>This chapter describes the Java Card converted applet (CAP) file format. Each CAP file contains all of the classes and interfaces defined in one Java package. Java Card Converters must be capable of producing CAP files that conform to the specification provided in this chapter.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-6951"></A>A CAP file consists of a stream of 8-bit bytes. All 16-bit and 32-bit quantities are constructed by reading in two and four consecutive 8-bit bytes, respectively. Multibyte data items are always stored in big-endian order, where the high-order bytes come first. The first bit read of an 8-bit quantity is considered the <EM CLASS="Emphasis">high bit</EM><A NAME="marker-54588"></A>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-6952"></A>This chapter defines its own set of data types representing Java Card CAP file data: the types <KBD CLASS="Filename-Command">u1</KBD>, and <KBD CLASS="Filename-Command">u2</KBD> represent an unsigned one-, and two-byte quantities, respectively. Some <KBD CLASS="Filename-Command">u1</KBD> types are represented as <EM CLASS="Emphasis">bitfield</EM><A NAME="marker-54589"></A> structures, consisting of arrays of bits. The zeroeth bit in each bit array represents the most significant bit, or high bit.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-6953"></A>The Java Card CAP file format is presented using pseudo structures written in a C-like structure notation. To avoid confusion with the fields of Java Card virtual machine classes and class instances, the contents of the structures describing the Java Card CAP file format are referred to as<A NAME="marker-54590"></A> <EM CLASS="Emphasis">items</EM>. Unlike the fields of a C structure, successive items are stored in the Java Card platform file sequentially, without padding or alignment.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-6954"></A>Variable-sized t<A NAME="marker-54591"></A>ables, consisting of variable-sized items, are used in several CAP file data structures. Although we will use C-like array syntax to refer to table items, the fact that tables are streams of variable-sized structures means that it is not possible to directly translate a table index into a byte offset into the table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-6955"></A>A data structure referred to as an<A NAME="marker-54592"></A> array consists of items equal in size.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-17535"></A>Some items in the structures of the CAP file format are describe using a C-like <A NAME="marker-54593"></A>union notation. The bytes contained in a union structure have one of the two formats. Selection of the two formats is based on the value of the high bit of the structure.
</P><H2 CLASS="Head1"><A NAME="pgfId-6960"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.1	<A NAME="marker-54594"></A>Component Model</H2>
<P CLASS="Paragraph"><A NAME="pgfId-6961"></A>A Java Card CAP file consists of a set of components. Each component describes a set of elements in the Java package defined, or an aspect of the CAP file. A complete CAP file must contain all of the required components specified in this chapter. Three <KBD CLASS="Filename-Command">components</KBD> are optional: the Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>), Export Component (<A HREF="JCVM06cap.html#Export Component" CLASS="XRef">Section 6.12, Export Component</A>), and Debug Component (<A HREF="JCVM06cap.html#26211" CLASS="XRef">Section 6.14, Debug Component</A>). The Applet Component is included only if one or more Applets are defined in the package. The Export Component is included only if classes in other packages may import elements in the package defined. The Debug Component contains all of the data necessary for debugging a package.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-16083"></A>The content of each component defined in a CAP file must conform to the corresponding format specified in this chapter. All components have the following general format:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1011898"></A>component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011900"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011902"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011904"></A>     u1 info[]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011906"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-44747"></A>Each component begins with a 1-byte tag indicating the kind of component. Valid tags and their values are listed in <A HREF="JCVM06cap.html#81073" CLASS="XRef">TABLE 6-1</A>. The size item indicates the number of bytes in the info array of the component, not including the tag and size items.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-40219"></A>The content and format of the info array varies with the type of component.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-999983"> </A> TABLE 6-1 	 <A NAME="81073"> </A> CAP File Component Tags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-38794"></A>Component Type
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-38796"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38798"></A>COMPONENT_Header
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38800"></A>1
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38802"></A>COMPONENT_Directory
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38804"></A>2
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38806"></A>COMPONENT_Applet
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38808"></A>3
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38810"></A>COMPONENT_Import
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38812"></A>4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38814"></A>COMPONENT_ConstantPool
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38816"></A>5
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38818"></A>COMPONENT_Class
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38820"></A>6
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38822"></A>COMPONENT_Method
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38824"></A>7
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38826"></A>COMPONENT_StaticField
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38828"></A>8
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38830"></A>COMPONENT_ReferenceLocation
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38832"></A>9
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38834"></A>COMPONENT_Export
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38836"></A>10
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-51816"></A>COMPONENT_Descriptor
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-51818"></A>11
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38838"></A>COMPONENT_Debug
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-38840"></A>12
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-16065"></A>Sun Microsystems, Inc. may define additional components in future versions of this Java Card virtual machine specification. It is guaranteed that additional components will have <KBD CLASS="Filename-Command">tag</KBD> values between 13 and 127, inclusive.
</P><H3 CLASS="Head2"><A NAME="pgfId-15498"></A>6.1.1	<A NAME="61479"></A>Containment in a <A NAME="marker-54595"></A>JAR File</H3>
<P CLASS="Paragraph"><A NAME="pgfId-1001966"></A>Each CAP file component is represented as a single file. The component file names are enumerated in <A HREF="JCVM06cap.html#55066" CLASS="XRef">TABLE 6-2</A>. These names are not case sensitive.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1001973"> </A> TABLE 6-2 	 <A NAME="55066"> </A> CAP File Component File Names </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-1001977"></A>Component Type
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-1001979"></A>File Name
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001981"></A>COMPONENT_Header
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001983"></A>Header.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001985"></A>COMPONENT_Directory
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001987"></A>Directory.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001989"></A>COMPONENT_Applet
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001991"></A>Applet.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001993"></A>COMPONENT_Import
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001995"></A>Import.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001997"></A>COMPONENT_ConstantPool
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1001999"></A>ConstantPool.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002001"></A>COMPONENT_Class
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002003"></A>Class.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002005"></A>COMPONENT_Method
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002007"></A>Method.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002009"></A>COMPONENT_StaticField
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002011"></A>StaticField.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002013"></A>COMPONENT_ReferenceLocation
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002015"></A>RefLocation.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002017"></A>COMPONENT_Export
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002019"></A>Export.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002021"></A>COMPONENT_Descriptor
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002023"></A>Descriptor.cap
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002025"></A>COMPONENT_Debug
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-1002027"></A>Debug.cap
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-1002030"></A>All CAP file components are stored in a JAR file. As described in <A HREF="JCVM04naming.html#10054" CLASS="XRef">Section 4.1.3, JAR File Container</A>, the path to the CAP file component files in a JAR file consists of a directory called <KBD CLASS="Filename-Command">javacard</KBD> that is in a subdirectory representing the package's directory. For example, the CAP file component files of the package <KBD CLASS="Filename-Command">javacard.framework</KBD> are located in the subdirectory <KBD CLASS="Filename-Command">javacard/framework/javacard</KBD>. Other files, including other CAP files, may also reside in a JAR file that contains CAP file component files.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-54094"></A>The JAR file format provides a vehicle suitable for the distribution of CAP file components. It is not intended or required that the JAR file format be used as the load file format for loading CAP file components onto a Java Card technology-enabled device. See <A HREF="JCVM06cap.html#36273" CLASS="XRef">Section 6.2, Installation</A> for more information.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-15611"></A>The name of a JAR file containing CAP file components is not defined as part of this specification. The naming convention used by the Sun Microsystems, Inc. Java Card Converter Tool is to append <KBD CLASS="Filename-Command">.cap</KBD> to the simple (meaning not fully qualified) package name. For example, the CAP file produced for the package <KBD CLASS="Filename-Command">com.sun.javacard.JavaLoyalty</KBD> would be named <KBD CLASS="Filename-Command">JavaLoyalty.cap</KBD>.
</P><H3 CLASS="Head2"><A NAME="pgfId-15560"></A>6.1.2	Defining New <A NAME="marker-54596"></A>Components</H3>
<P CLASS="Paragraph"><A NAME="pgfId-15561"></A>Java Card CAP files are permitted to contain new, or custom, components. All new components not defined as part of this specification must not affect the semantics of the specified components, and Java Card virtual machines must be able to accept CAP files that do not contain new components. Java Card virtual machine implementations are required to silently ignore components they do not recognize.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-15562"></A>New components are identified in two ways: they are assigned both an ISO 7816-5 AID (<A HREF="JCVM04naming.html#28462" CLASS="XRef">Section 4.2, AID-based Naming</A>) and a tag value. Valid tag values are between 128 and 255, inclusive. Both of these identifiers are recorded in the <KBD CLASS="Filename-Command">custom_component</KBD> item of the Directory Component (<A HREF="JCVM06cap.html#Directory Component" CLASS="XRef">Section 6.4, Directory Component</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-17527"></A>The new component must conform to the general component format defined in this chapter, with a tag value, a size value indicating the number of bytes in the component (excluding the tag and size items), and an info item containing the content of the new component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53863"></A>A new component file is stored in a JAR file, following the same restrictions as those specified in <A HREF="JCVM04naming.html#10054" CLASS="XRef">Section 4.1.3, JAR File Container</A>. That is, the file containing the new component must be located in the <KBD CLASS="Filename-Command">&lt;package_directory&gt;/javacard</KBD> subdirectory of the JAR file and must have the extension <KBD CLASS="Filename-Command">.cap</KBD>.
</P><H2 CLASS="Head1"><A NAME="pgfId-53867"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.2	<A NAME="36273"></A>Installation<A NAME="marker-54597"></A></H2>
<P CLASS="Paragraph"><A NAME="pgfId-54210"></A>Installing a CAP file components onto a Java Card technology-enabled device entails communication between a Java Card technology-enabled terminal and that device. While it is beyond the scope of this specification to define a load file format or installation protocol between a terminal and a device, the CAP file component order shown in <A HREF="JCVM06cap.html#35280" CLASS="XRef">TABLE 6-3</A> is a reference load order suitable for an implementation with a simple memory management model on a limited memory device.<A NAME="fnote1"></A><A HREF="#pgfId-997658"  CLASS="footnote"><SUP>[1]</SUP></A> 
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-999987"> </A> TABLE 6-3 	 <A NAME="35280"> </A> Reference Component Install Order </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableTextCode"><A NAME="pgfId-54216"></A>Component Type
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54218"></A><KBD CLASS="Filename-Command">COMPONENT_Header</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54220"></A><KBD CLASS="Filename-Command">COMPONENT_Directory</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54222"></A><KBD CLASS="Filename-Command">COMPONENT_Import</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54224"></A><KBD CLASS="Filename-Command">COMPONENT_Applet</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54226"></A><KBD CLASS="Filename-Command">COMPONENT_Class</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54228"></A><KBD CLASS="Filename-Command">COMPONENT_Method</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54230"></A><KBD CLASS="Filename-Command">COMPONENT_StaticField</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54232"></A><KBD CLASS="Filename-Command">COMPONENT_Export</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54234"></A><KBD CLASS="Filename-Command">COMPONENT_ConstantPool</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54236"></A><KBD CLASS="Filename-Command">COMPONENT_ReferenceLocation</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-54238"></A><KBD CLASS="Filename-Command">COMPONENT_Descriptor (optional)</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-51835"></A>The component type <KBD CLASS="Filename-Command">COMPONENT_Debug</KBD> is not intended for download to the device. It is intended to be used off-card in conjunction with a suitably instrumented Java Card virtual machine.
</P><H2 CLASS="Head1"><A NAME="pgfId-16191"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.3	<A NAME="24754"></A>Header <A NAME="marker-54598"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-16192"></A>The Header Component contains general information about this CAP file and the package it defines. It is described by the following variable-length structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1011961"></A>header_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011963"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011965"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011967"></A>     u4 magic
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011969"></A>     u1 minor_version
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011971"></A>     u1 major_version
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011973"></A>     u1 flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011975"></A>     package_info package
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011977"></A>     package_name_info package_name
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1011979"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7101"></A>The items in the <KBD CLASS="Filename-Command">header_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7102"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7103"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">COMPONENT_Header</KBD> (1).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7104"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7105"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">header_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7106"></A><KBD CLASS="Filename-Command">magic</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7107"></A>The <KBD CLASS="Filename-Command">magic</KBD> item supplies the <KBD CLASS="Filename-Command">magic</KBD> number identifying the Java Card CAP file format; it has the value <KBD CLASS="Filename-Command">0xDECAFFED</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7108"></A><KBD CLASS="Filename-Command">minor_version, major_version</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53656"></A>The <KBD CLASS="Filename-Command">minor_version</KBD> and <KBD CLASS="Filename-Command">major_version</KBD> items are the minor and major version numbers of this CAP file. Together, a major and a minor version number determine the version of the CAP file format. If a CAP file has the major version number of <I CLASS="Variable">M</I> and minor version number of <I CLASS="Variable">m</I>, the version of the CAP file's format is <I CLASS="Variable">M.m</I>. 
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53721"></A>A change in the major version number indicates a major incompatibility change, one that requires a fundamentally different Java Card virtual machine. A Java Card virtual machine is not required to support CAP files with different major version numbers. A Java Card virtual machine is required to support CAP files having a given major version number and all valid minor version numbers in the range 0 through some particular <KBD CLASS="Filename-Command">minor_version</KBD> where a valid minor version number is a minor version number that has been defined in a version of the Java Card virtual machine specification.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9790"></A>In this specification, the major version of the CAP file format has the value <KBD CLASS="Filename-Command">2</KBD> and the minor version has the value <KBD CLASS="Filename-Command">2</KBD>. Only Sun Microsystems, Inc. may define the meaning and values of new CAP file format versions.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7110"></A><KBD CLASS="Filename-Command">flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7111"></A>The <KBD CLASS="Filename-Command">flags</KBD> item is a mask of modifiers that apply to this package. The <KBD CLASS="Filename-Command">flags</KBD> modifiers are shown in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-998638"> </A> TABLE 6-4 	CAP  <KBD CLASS="Filename-Command"> </KBD> <A NAME="90443"> </A> File Package Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-37574"></A>Flags
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-37576"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-37578"></A>ACC_INT
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-37580"></A>0x01
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-37582"></A>ACC_EXPORT
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-37584"></A>0x02
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-37586"></A>ACC_APPLET
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-37588"></A>0x04
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-15130"></A>The ACC_INT flag has the value of one if the Java int type is used in this package. The int type is used if one or more of the following is present:
</P>
<UL>
<UL>
<LI CLASS="Bullet2"><A NAME="pgfId-16810"></A>a parameter to a method of type int,
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2-"><A NAME="pgfId-53055"></A>a parameter to a method of type int array,
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2-"><A NAME="pgfId-23873"></A>a local variable of type int,
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2-"><A NAME="pgfId-53056"></A>a local variable of type int array,
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2-"><A NAME="pgfId-16271"></A>a field of type int,
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2-"><A NAME="pgfId-16239"></A>a field of type int array,
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2-"><A NAME="pgfId-47027"></A>an instruction of type int, or 
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2-"><A NAME="pgfId-53057"></A>an instruction of type int array.
</LI>
<P CLASS="Linebreak">
</P>
</UL>
</UL>
<P CLASS="ParaIndent1"><A NAME="pgfId-47029"></A>Otherwise the <KBD CLASS="Filename-Command">ACC_INT</KBD> flag has the value of <KBD CLASS="Filename-Command">0</KBD>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-16261"></A>The <KBD CLASS="Filename-Command">ACC_EXPORT</KBD> flag has the value of <KBD CLASS="Filename-Command">one</KBD> if an Export Component (<A HREF="JCVM06cap.html#Export Component" CLASS="XRef">Section 6.12, Export Component</A>) is included in this CAP file. Otherwise it has the value of 0.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-16288"></A>The <KBD CLASS="Filename-Command">ACC_APPLET</KBD> flag has the value of <KBD CLASS="Filename-Command">one</KBD> if an Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>) is included in this CAP file. Otherwise it has the value of <KBD CLASS="Filename-Command">0</KBD>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-16302"></A>All other bits in the flags item not defined in <A HREF="JCVM06cap.html#90443" CLASS="XRef">TABLE 6-4</A> are reserved for future use. Their values must be <KBD CLASS="Filename-Command">zero</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7140"></A><KBD CLASS="Filename-Command">package</KBD><A NAME="15974"></A>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1012143"></A>The <KBD CLASS="Filename-Command">package</KBD> item describes the package defined in this CAP file. It is represented as a <KBD CLASS="Filename-Command">package_info</KBD> structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012146"></A>   package_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012148"></A>         u1 minor_version
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012150"></A>         u1 major_version
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012152"></A>         u1 AID_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012154"></A>         u1 AID[AID_length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012164"></A>    }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-17554"></A>The items in the <KBD CLASS="Filename-Command">package_info</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-45619"></A><KBD CLASS="Filename-Command">   minor_version, major_version</KBD><A NAME="40584"></A>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-45620"></A>The <KBD CLASS="Filename-Command">minor_version</KBD> and major_version items are the minor and major version numbers of this package. These values uniquely identify the particular implementation of this package and indicate the binary compatibility between packages. See <A HREF="JCVM04naming.html#12240" CLASS="XRef">Section 4.5, Package Versions</A> for a description of assigning and using package version numbers.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7151"></A><KBD CLASS="Filename-Command">   AID_length</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7152"></A>The <KBD CLASS="Filename-Command">AID_length</KBD> item represents the number of bytes in the AID item. Valid values are between 5 and 16, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7153"></A><Alt CLASS="InlineAltText">   AID[]</Alt>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7154"></A>The <KBD CLASS="Filename-Command">AID</KBD> item represents the Java Card platform name of the package. See ISO 7816-5 for the definition of an AID (<A HREF="JCVM04naming.html#28462" CLASS="XRef">Section 4.2, AID-based Naming</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-51720"></A><KBD CLASS="Filename-Command">package_name</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-51721"></A>The <KBD CLASS="Filename-Command">package_name</KBD> item describes the name of the package defined in this CAP file. It is represented as a <KBD CLASS="Filename-Command">package_name_info[]</KBD> structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012205"></A>    package_name_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012207"></A>             u1 name_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012209"></A>             u1 name[name_length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012211"></A>    }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-55046"></A>The items in the <KBD CLASS="Filename-Command">package_name_info[]</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-51750"></A><KBD CLASS="Filename-Command">   name_length</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-51751"></A>The <KBD CLASS="Filename-Command">name_length</KBD> item is the number of bytes used in the name item to represent the name of this package in UTF-8 format. The value of this item may be zero if and only if the package does not define any remote interfaces or remote classes.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-51752"></A><KBD CLASS="Filename-Command">   name[]</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-1010634"></A>The <KBD CLASS="Filename-Command">name[]</KBD> item is a variable length representation of the fully qualified name of this package in UTF-8 format. The fully qualified name is represented in internal form as described in <I CLASS="Title"></I><EM CLASS="Emphasis">Java Virtual Machine Specification</EM><I CLASS="Title"></I> (Section 4.2).
</P><H2 CLASS="Head1"><A NAME="pgfId-1010640"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.4	<A NAME="Directory Component"></A>Directory <A NAME="marker-1010639"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-47187"></A>The Directory Component lists the size of each of the components defined in this CAP file. When an optional component is not included, such as the Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>), Export Component (<A HREF="JCVM06cap.html#Export Component" CLASS="XRef">Section 6.12, Export Component</A>), or Debug Component (<A HREF="JCVM06cap.html#26211" CLASS="XRef">Section 6.14, Debug Component</A>), it is represented in the Directory Component with size equal to zero. The Directory Component also includes entries for new (or custom) components.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-1012346"></A>The Directory Component is described by the following variable-length structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012349"></A>directory_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012351"></A>       u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012353"></A>       u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012355"></A>       u2 component_sizes[12]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012357"></A>       static_field_size_info static_field_size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012359"></A>       u1 import_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012361"></A>       u1 applet_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012363"></A>       u1 custom_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012365"></A>       custom_component_info custom_components[custom_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012367"></A> }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7172"></A>The items in the <KBD CLASS="Filename-Command">directory_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7173"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7174"></A>The tag item has the value <KBD CLASS="Filename-Command">COMPONENT_Directory</KBD> (2).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7175"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7176"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">directory_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7181"></A><KBD CLASS="Filename-Command">component_sizes[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7182"></A>The <KBD CLASS="Filename-Command">component_sizes</KBD> item is an array representing the number of bytes in each of the components in this CAP file. All of the 12 components defined in this chapter are represented in the <KBD CLASS="Filename-Command">component_sizes</KBD> array. The value of an index into the array is equal to the value of the tag of the component represented at that entry, minus 1.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24314"></A>The value in each entry in the <KBD CLASS="Filename-Command">component_sizes</KBD> array is the same as the size item in the corresponding component. It represents the number of bytes in the component, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24327"></A>The value of an entry in the <KBD CLASS="Filename-Command">component_sizes</KBD> array is zero for components not included in this CAP file. Components that may not be included are the Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>), the Export Component (<A HREF="JCVM06cap.html#Export Component" CLASS="XRef">Section 6.12, Export Component</A>), and the Debug Component (<A HREF="JCVM06cap.html#26211" CLASS="XRef">Section 6.14, Debug Component</A>). For all other components the value is greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-24428"></A><KBD CLASS="Filename-Command">static_field_size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24429"></A>The <KBD CLASS="Filename-Command">static_field_size</KBD> item is a <KBD CLASS="Filename-Command">static_field_size_info</KBD> structure. The structure is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012426"></A>   static_field_size_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012428"></A>      u2 image_size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012430"></A>      u2 array_init_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012432"></A>      u2 array_init_size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012434"></A>   }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-16549"></A>The items in the <KBD CLASS="Filename-Command">static_field_size_info</KBD> structure are the following:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-16474"></A><KBD CLASS="Filename-Command">  image_size</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-16475"></A>The <KBD CLASS="Filename-Command">image_size</KBD> item has the same value as the <KBD CLASS="Filename-Command">image_size</KBD> item in the Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). It represents the total number of bytes in the <KBD CLASS="Filename-Command">static</KBD> fields defined in this package, excluding final <KBD CLASS="Filename-Command">static</KBD> fields of primitive types.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-16479"></A><KBD CLASS="Filename-Command">  array_init_count</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-16480"></A>The <KBD CLASS="Filename-Command">array_init_count</KBD> item has the same value as the <KBD CLASS="Filename-Command">array_init_count</KBD> item in the Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). It represents the number of arrays initialized in all of the <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods in this package.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-16495"></A><KBD CLASS="Filename-Command">  array_init_size</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-16496"></A>The <KBD CLASS="Filename-Command">array_init_size</KBD> item represents the sum of the count items in the <KBD CLASS="Filename-Command">array_init</KBD> table item of the Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). It is the total number of bytes in all of the arrays initialized in all of the <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods in this package.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-24341"></A><KBD CLASS="Filename-Command">import_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24342"></A>The <KBD CLASS="Filename-Command">import_count</KBD> item indicates the number of packages imported by classes and interfaces in this package. This item has the same value as the count item in the Import Component (<A HREF="JCVM06cap.html#41659" CLASS="XRef">Section 6.6, Import Component</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-24346"></A><KBD CLASS="Filename-Command">applet_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24375"></A>The <KBD CLASS="Filename-Command">applet_count</KBD> item indicates the number of applets defined in this package. If an Applet Component <A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>) is not included in this CAP file, the value of the <KBD CLASS="Filename-Command">applet_count</KBD> item is zero. Otherwise the value of the <KBD CLASS="Filename-Command">applet_count</KBD> item is the same as the value of the count item in the Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-24351"></A><KBD CLASS="Filename-Command">custom_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24352"></A>The <KBD CLASS="Filename-Command">custom_count</KBD> item indicates the number of entries in the <KBD CLASS="Filename-Command">custom_components</KBD> table. Valid values are between 0 and 127, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7190"></A><KBD CLASS="Filename-Command">custom_components[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46122"></A>The <KBD CLASS="Filename-Command">custom_components</KBD> item is a table of variable-length <KBD CLASS="Filename-Command">custom_component_info</KBD> structures. Each new component defined in this CAP file must be represented in the table. These components are not defined in this standard.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46123"></A>The <KBD CLASS="Filename-Command">custom_component_info</KBD> structure is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012510"></A>   custom_component_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012512"></A>       u1 component_tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012514"></A>       u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012516"></A>       u1 AID_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012518"></A>       u1 AID[AID_length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012520"></A>       }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-24192"></A>The items in entries of the <KBD CLASS="Filename-Command">custom_component_info</KBD> structure are:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7192"></A><KBD CLASS="Filename-Command">  component_tag</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7193"></A>The <KBD CLASS="Filename-Command">component_tag</KBD> item represents the tag of the component. Valid values are between 128 and 255, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7194"></A><KBD CLASS="Filename-Command">  size</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7195"></A>The <KBD CLASS="Filename-Command">size</KBD> item represents the number of bytes in the component, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7196"></A><KBD CLASS="Filename-Command">  AID_length</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7197"></A>The <KBD CLASS="Filename-Command">AID_length</KBD> item represents the number of bytes in the <KBD CLASS="Filename-Command">AID</KBD> item. Valid values are between 5 and 16, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7198"></A><KBD CLASS="Filename-Command">  AID[]</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7199"></A>The <KBD CLASS="Filename-Command">AID</KBD> item represents the Java Card platform name of the component. See ISO 7816-5 for the definition of an AID (<A HREF="JCVM04naming.html#28462" CLASS="XRef">Section 4.2, AID-based Naming</A>).
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-24281"></A>Each component is assigned an AID conforming to the ISO 7816-5 standard. Beyond that, there are no constraints on the value of an <KBD CLASS="Filename-Command">AID</KBD> of a custom component.
</P><H2 CLASS="Head1"><A NAME="pgfId-7200"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.5	<A NAME="Applet Component"></A>Applet <A NAME="marker-54600"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-24536"></A>The Applet Component contains an entry for each of the applets defined in this package. Applets are defined by implementing a non-abstract subclass, direct or indirect, of the <KBD CLASS="Filename-Command">javacard.framework.Applet</KBD> class.<A NAME="fnote2"></A><A HREF="#pgfId-24544"  CLASS="footnote"><SUP>[2]</SUP></A> If no applets are defined, this component must not be present in this CAP file. 
</P>
<P CLASS="Paragraph"><A NAME="pgfId-24539"></A>The Applet Component is described by the following variable-length structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012596"></A>applet_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012598"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012600"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012602"></A>     u1 count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012604"></A>       { u1 AID_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012606"></A>         u1 AID[AID_length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012608"></A>         u2 install_method_offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012610"></A>       } applets[count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012612"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7212"></A>The items in the <KBD CLASS="Filename-Command">applet_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7213"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7214"></A>The tag item has the value <KBD CLASS="Filename-Command">COMPONENT_Applet</KBD> (3).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7215"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7216"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">applet_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-47970"></A><KBD CLASS="Filename-Command">count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7218"></A>The <KBD CLASS="Filename-Command">count</KBD> item indicates the number of applets defined in this package. The value of the <KBD CLASS="Filename-Command">count</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7219"></A><KBD CLASS="Filename-Command">applets[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-14247"></A>The <KBD CLASS="Filename-Command">applets</KBD> item represents a table of variable-length structures each describing an applet defined in this package.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-14254"></A>The items in each entry of the <KBD CLASS="Filename-Command">applets</KBD> table are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7221"></A><KBD CLASS="Filename-Command">  AID_length</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7222"></A>The <KBD CLASS="Filename-Command">AID_length</KBD> item represents the number of bytes in the AID item. Valid values are between 5 and 16, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-9768"></A><KBD CLASS="Filename-Command">  AID[]</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-9769"></A>The <KBD CLASS="Filename-Command">AID</KBD> item represents the Java Card platform name of the applet.
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-24471"></A>Each applet is assigned an AID conforming to the ISO 7816-5 standard (<A HREF="JCVM04naming.html#28462" CLASS="XRef">Section 4.2, AID-based Naming</A>). The RID (first 5 bytes) of all of the applet AIDs must have the same value. In addition, the RID of each applet AIDs must have the same value as the RID of the package defined in this CAP file.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-24473"></A><KBD CLASS="Filename-Command">  install_method_offset</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-9749"></A>The value of the <KBD CLASS="Filename-Command">install_method_offset</KBD> item must be a 16-bit offset into the <KBD CLASS="Filename-Command">info</KBD> item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>). The item at that offset must be a <KBD CLASS="Filename-Command">method_info</KBD> structure that represents the <KBD CLASS="Filename-Command">static install(byte[],short,byte)</KBD> method of the applet.<A NAME="fnote3"></A><A HREF="#pgfId-24559"  CLASS="footnote"><SUP>[3]</SUP></A> The <KBD CLASS="Filename-Command">install(byte[],short,byte)</KBD> method must be defined in a class that extends the <KBD CLASS="Filename-Command">javacard.framework.applet</KBD> class, directly or indirectly. The <KBD CLASS="Filename-Command">install(byte[],short,byte)</KBD> method is called to initialize the applet.
</P><H2 CLASS="Head1"><A NAME="pgfId-19555"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.6	<A NAME="41659"></A>Import <A NAME="marker-54601"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-7228"></A>The Import Component lists the set of packages imported by the classes in this package. It does not include an entry for the package defined in this CAP file. The Import Component is represented by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012724"></A>import_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012726"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012728"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012730"></A>     u1 count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012732"></A>     package_info packages[count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012734"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-45782"></A>The items in the <KBD CLASS="Filename-Command">import_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7237"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7238"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">COMPONENT_Import</KBD> (4).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7239"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7240"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">import_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7241"></A><KBD CLASS="Filename-Command">count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7242"></A>The <KBD CLASS="Filename-Command">count</KBD> item indicates the number of items in the <KBD CLASS="Filename-Command">packages</KBD> table. The value of the <KBD CLASS="Filename-Command">count</KBD> item must be between 0 and 128, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-45644"></A><KBD CLASS="Filename-Command">packages[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-45645"></A>The <KBD CLASS="Filename-Command">packages</KBD> item represents a table of variable-length <KBD CLASS="Filename-Command">package_info</KBD> structures as defined for package under <A HREF="JCVM06cap.html#24754" CLASS="XRef">Section 6.3, Header Component</A>. The table contains an entry for each of the packages referenced in the CAP file, not including the package defined.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-45649"></A>The major and minor version numbers specified in the <KBD CLASS="Filename-Command">package_info</KBD> structure are equal to the major and minor versions specified in the imported package's export file. See <A HREF="JCVM04naming.html#12240" CLASS="XRef">Section 4.5, Package Versions</A> for a description of assigning and using package version numbers.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-55024"></A>Components of this CAP file refer to an imported package by using a index in this packages table. The index is called a package token (<A HREF="JCVM04naming.html#13665" CLASS="XRef">Section 4.3.7.1, Package</A>).
</P><H2 CLASS="Head1"><A NAME="pgfId-55032"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.7	<A NAME="23719"></A>Constant Pool <A NAME="marker-55031"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-1000968"></A>The Constant Pool Component contains an entry for each of the classes, methods, and fields referenced by elements in the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) of this CAP file. The referencing elements in the Method Component may be instructions in the methods or exception handler catch types in the exception handler table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-17690"></A>Entries in the Constant Pool Component reference elements in the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>), Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>), and Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). The Import Component (<A HREF="JCVM06cap.html#41659" CLASS="XRef">Section 6.6, Import Component</A>) is also accessed using a package token (<A HREF="JCVM04naming.html#13665" CLASS="XRef">Section 4.3.7.1, Package</A>) to describe references to classes, methods and fields defined in imported packages. Entries in the Constant Pool Component do not reference other entries internal to itself.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-17420"></A>The Constant Pool Component is described by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012810"></A>constant_pool_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012812"></A>      u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012814"></A>      u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012816"></A>      u2 count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012818"></A>      cp_info constant_pool[count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012820"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7261"></A>The items in the <KBD CLASS="Filename-Command">constant_pool_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7262"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7263"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">COMPONENT_ConstantPool</KBD> (5).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7264"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7265"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">constant_pool_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7266"></A><KBD CLASS="Filename-Command">count</KBD>
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7267"></A>The <KBD CLASS="Filename-Command">count</KBD> item represents the number entries in the <KBD CLASS="Filename-Command">constant_pool[]</KBD> array. Valid values are between 0 and 65535, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7268"></A><KBD CLASS="Filename-Command">constant_pool[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7269"></A>The <KBD CLASS="Filename-Command">constant_pool[]</KBD> item represents an array of <KBD CLASS="Filename-Command">cp_info</KBD> structures:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012895"></A><KBD CLASS="Filename-Command">   cp_info {</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012897"></A><KBD CLASS="Filename-Command">       u1 tag</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012899"></A><KBD CLASS="Filename-Command">       u1 info[3]</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012901"></A><KBD CLASS="Filename-Command">   }</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-16841"></A>Each item in the <KBD CLASS="Filename-Command">constant_pool[]</KBD> array is a 4-byte structure. Each structure must begin with a 1-byte tag indicating the kind of <KBD CLASS="Filename-Command">cp_info</KBD> entry. The content and format of the 3-byte info array varies with the value of the tag. The valid tags and their values are listed in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-999146"> </A> TABLE 6-5 	CAP File Constant Pool Tags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-39181"></A>Constant Type
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-39183"></A>Tag
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39185"></A><KBD CLASS="Filename-Command">CONSTANT_Classref</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39187"></A><KBD CLASS="Filename-Command">1</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39189"></A><KBD CLASS="Filename-Command">CONSTANT_InstanceFieldref</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39191"></A><KBD CLASS="Filename-Command">2</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39193"></A><KBD CLASS="Filename-Command">CONSTANT_VirtualMethodref</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39195"></A><KBD CLASS="Filename-Command">3</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39197"></A><KBD CLASS="Filename-Command">CONSTANT_SuperMethodref</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39199"></A><KBD CLASS="Filename-Command">4</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39201"></A><KBD CLASS="Filename-Command">CONSTANT_StaticFieldref</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39203"></A><KBD CLASS="Filename-Command">5</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39205"></A><KBD CLASS="Filename-Command">CONSTANT_StaticMethodref</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39207"></A><KBD CLASS="Filename-Command">6</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-16829"></A>Java Card platform constant types (&quot;Java Card constant types&quot;) are more specific than those in Java class files. The categories indicate not only the type of the item referenced, but also the manner in which it is referenced. 
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24571"></A>For example, in the Java constant pool there is one constant type for method references, while in the Java Card platform constant pool (&quot;Java Card constant pool&quot;) there are three constant types for method references: one for virtual method invocations using the <KBD CLASS="Filename-Command">invokevirtual</KBD> bytecode, one for super method invocations using the <KBD CLASS="Filename-Command">invokespecial</KBD> bytecode, and one for static method invocations using either the <KBD CLASS="Filename-Command">invokestatic</KBD> or <KBD CLASS="Filename-Command">invokespecial</KBD> bytecode.<A NAME="fnote4"></A><A HREF="#pgfId-24583"  CLASS="footnote"><SUP>[4]</SUP></A> The additional information provided by a constant type in Java Card technologies simplifies resolution of references.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7314"></A>There are no ordering constraints on constant pool entries. It is recommended, however, that <KBD CLASS="Filename-Command">CONSTANT_InstanceFieldref</KBD> (<A HREF="JCVM06cap.html#15653" CLASS="XRef">Section 6.7.2, CONSTANT_InstanceFieldref, CONSTANT_VirtualMethodref, and CONSTANT_SuperMethodref</A>) constants occur early in the array to permit using <KBD CLASS="Filename-Command">getfield_T</KBD> and <KBD CLASS="Filename-Command">putfield_T</KBD> bytecodes instead of <Alt CLASS="InlineAltText">getfield_T_w</Alt> and <KBD CLASS="Filename-Command">putfield_T_w</KBD> bytecodes. The former have 1-byte constant pool index parameters while the latter have 2-byte constant pool index parameters.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46280"></A>The first entry in the constant pool can not be an exception handler class that is referenced by a <KBD CLASS="Filename-Command">catch_type_index</KBD> of an <KBD CLASS="Filename-Command">exception_handler_info</KBD> structure. In such a case the value of the <KBD CLASS="Filename-Command">catch_type_index</KBD> would be equal to 0, but the value of 0 in a <KBD CLASS="Filename-Command">catch_type_index</KBD> is reserved to indicate an <KBD CLASS="Filename-Command">exception_handler_info</KBD> structure that describes a <EM CLASS="Emphasis">finally</EM> block.
</P><H3 CLASS="Head2"><A NAME="pgfId-7315"></A>6.7.1	<A NAME="39801"></A>CONSTANT_Classref<A NAME="marker-54603"></A></H3>
<P CLASS="Paragraph"><A NAME="pgfId-7316"></A>The <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure is used to represent a reference to a class or an interface. The class or interface may be defined in this package or in an imported package. 
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1012947"></A>CONSTANT_Classref_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012949"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012951"></A>     union {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012953"></A>          u2 internal_class_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012955"></A>          { u1 package_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012957"></A>           u1 class_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012959"></A>          } external_class_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012961"></A>     } class_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012963"></A>     u1 padding
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1012965"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7328"></A>The items in the <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure are the following:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7329"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7330"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">CONSTANT_Classref</KBD> (1).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7331"></A><KBD CLASS="Filename-Command">class_ref</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7332"></A>The <KBD CLASS="Filename-Command">class_ref</KBD> item represents a reference to a class or interface. If the class or interface is defined in this package the structure represents an <KBD CLASS="Filename-Command">internal_class_ref</KBD> and the high bit of the structure is zero. If the class or interface is defined in another package the structure represents an <KBD CLASS="Filename-Command">external_class_ref</KBD> and the high bit of the structure is one.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7333"></A><KBD CLASS="Filename-Command">  internal_class_ref</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7334"></A>The <KBD CLASS="Filename-Command">internal_class_ref</KBD> structure represents a 16-bit offset into the <KBD CLASS="Filename-Command">info</KBD> item of the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>) to an <KBD CLASS="Filename-Command">interface_info</KBD> or <KBD CLASS="Filename-Command">class_info</KBD> structure. The <KBD CLASS="Filename-Command">interface_info</KBD> or <KBD CLASS="Filename-Command">class_info</KBD> structure must represent the referenced class or interface.
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-16958"></A>The value of the <KBD CLASS="Filename-Command">internal_class_ref</KBD> item must be between 0 and 32767, inclusive, making the high bit equal to zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7335"></A><KBD CLASS="Filename-Command">  external_class_ref</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7336"></A>The <KBD CLASS="Filename-Command">external_class_ref</KBD> structure represents a reference to a class or interface defined in an imported package. The high bit of this structure is one.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7337"></A><KBD CLASS="Filename-Command">     package_token</KBD>
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17220"></A>The <KBD CLASS="Filename-Command">package_token</KBD> item represents a package token (<A HREF="JCVM04naming.html#13665" CLASS="XRef">Section 4.3.7.1, Package</A>) defined in the Import Component (<A HREF="JCVM06cap.html#41659" CLASS="XRef">Section 6.6, Import Component</A>) of this CAP file. The value of this token must be a valid index into the packages table item of the <KBD CLASS="Filename-Command">import_component</KBD> structure. The package represented at that index must be the imported package.
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17198"></A>The value of the package token must be between 0 and 127, inclusive.
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17199"></A>The high bit of the <KBD CLASS="Filename-Command">package_token</KBD> item is equal to one.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7340"></A><KBD CLASS="Filename-Command">     class_token</KBD>
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-7341"></A><KBD CLASS="Filename-Command">The class_token</KBD> item represents the token of the class or interface (<A HREF="JCVM04naming.html#14497" CLASS="XRef">Section 4.3.7.2, Classes and Interfaces</A>) of the referenced class or interface. It has the value of the class token of the class as defined in the <KBD CLASS="Filename-Command">Export</KBD> file of the imported package.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-17662"></A><KBD CLASS="Filename-Command">padding</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7343"></A>The <KBD CLASS="Filename-Command">padding</KBD> item has the value zero. It is present to make the size of a <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure the same as all other constants in the <KBD CLASS="Filename-Command">constant_pool[]</KBD> array.
</P><H3 CLASS="Head2"><A NAME="pgfId-9093"></A>6.7.2	<A NAME="15653"></A>CONSTANT_InstanceFieldref,<A NAME="marker-54604"></A> CONSTANT_VirtualMethodref, and CONSTANT_SuperMethodref</H3>
<P CLASS="Paragraph"><A NAME="pgfId-9094"></A>References to instance fields, and virtual methods are represented by similar structures:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1013085"></A>CONSTANT_InstanceFieldref_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013087"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013089"></A>     class_ref class
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013091"></A>     u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013093"></A>}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013095"></A>&nbsp;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013097"></A>CONSTANT_VirtualMethodref_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013099"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013101"></A>     class_ref class
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013103"></A>     u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013105"></A>}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013107"></A>&nbsp;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013109"></A>CONSTANT_SuperMethodref_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013111"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013113"></A>     class_ref class
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013241"></A>     u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013239"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7371"></A>The items in these structures are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7372"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7373"></A>The tag item of a <KBD CLASS="Filename-Command">CONSTANT_InstanceFieldref_info</KBD> structure has the value <KBD CLASS="Filename-Command">CONSTANT_InstanceFieldref</KBD> (2).
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-16988"></A>The tag item of a <KBD CLASS="Filename-Command">CONSTANT_VirtualMethodref_info</KBD> structure has the value <KBD CLASS="Filename-Command">CONSTANT_VirtualMethodref</KBD> (3).
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-16989"></A>The tag item of a <KBD CLASS="Filename-Command">CONSTANT_SuperMethodref_info</KBD> structure has the value <KBD CLASS="Filename-Command">CONSTANT_SuperMethodref</KBD> (4).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7377"></A><KBD CLASS="Filename-Command">class</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7381"></A>The <KBD CLASS="Filename-Command">class</KBD> item represents the class associated with the referenced instance field, virtual method, or super method invocation. It is a <KBD CLASS="Filename-Command">class_ref</KBD> structure (<A HREF="JCVM06cap.html#39801" CLASS="XRef">Section 6.7.1, CONSTANT_Classref</A>). If the referenced class is defined in this package the high bit is equal to zero. If the reference class is defined in an imported package the high bit of this structure is equal to one. 
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-14423"></A>The class referenced in the <KBD CLASS="Filename-Command">CONSTANT_InstanceField_info</KBD> structure must be the class that contains the declaration of the instance field.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-14427"></A>The class referenced in the <KBD CLASS="Filename-Command">CONSTANT_VirtualMethodref_info</KBD> structure must be a class that contains a declaration or definition of the virtual method.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7383"></A>The class referenced in the <KBD CLASS="Filename-Command">CONSTANT_SuperMethodref_info</KBD> structure must be the class that defines the method that contains the Java language-level super invocation.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7385"></A><KBD CLASS="Filename-Command">token</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-17097"></A>The <KBD CLASS="Filename-Command">token</KBD> item in the <KBD CLASS="Filename-Command">CONSTANT_InstanceFieldref_info</KBD> structure represents an instance field token (<A HREF="JCVM04naming.html#30617" CLASS="XRef">Section 4.3.7.5, Instance Fields</A>) of the referenced field. The value of the instance field token is defined within the scope of the class indicated by the <KBD CLASS="Filename-Command">class</KBD> item.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7387"></A>The <KBD CLASS="Filename-Command">token</KBD> item of the <KBD CLASS="Filename-Command">CONSTANT_VirtualMethodref_info</KBD> structure represents the virtual method token (<A HREF="JCVM04naming.html#22193" CLASS="XRef">Section 4.3.7.6, Virtual Methods</A>) of the referenced method. The virtual method token is defined within the scope of the hierarchy of the class indicated by the class item. If the referenced method is public or protected the high bit of the token item is zero. If the referenced method is package-visible the high bit of the token item is one. In this case the <KBD CLASS="Filename-Command">class</KBD> item must represent a reference to a class defined in this package.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7388"></A>The token item of the <KBD CLASS="Filename-Command">CONSTANT_SuperMethodref_info</KBD> structure represents the virtual method token (<A HREF="JCVM04naming.html#22193" CLASS="XRef">Section 4.3.7.6, Virtual Methods</A>) of the referenced method. Unlike in the <KBD CLASS="Filename-Command">CONSTANT_VirtualMethodref_info</KBD> structure, the virtual method token is defined within the scope of the hierarchy of the superclass of the class indicated by the <KBD CLASS="Filename-Command">class</KBD> item. If the referenced method is public or protected the high bit of the <KBD CLASS="Filename-Command">token</KBD> item is zero. If the referenced method is package-visible the high bit of the token item is one. In the latter case the <KBD CLASS="Filename-Command">class</KBD> item must represent a reference to a class defined in this package and at least one superclass of the class that contains a definition of the virtual method must also be defined in this package.
</P><H3 CLASS="Head2"><A NAME="pgfId-7391"></A>6.7.3	<A NAME="21307"></A>CONSTANT_StaticFieldref<A NAME="marker-54605"></A><A NAME="marker-54606"></A> and CONSTANT_StaticMethodref</H3>
<P CLASS="Paragraph"><A NAME="pgfId-7392"></A>References to static fields and methods are represented by similar structures:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1013282"></A>CONSTANT_StaticFieldref_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013284"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013286"></A>     union {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013288"></A>          { u1 padding
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013290"></A>            u2 offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013292"></A>          } internal_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013294"></A>          { u1 package_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013296"></A>            u1 class_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013298"></A>            u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013300"></A>          } external_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013302"></A>     } static_field_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013304"></A>}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013306"></A>&nbsp;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013308"></A>CONSTANT_StaticMethodref_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013310"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013459"></A>     union {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013457"></A>&nbsp;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013455"></A>          { u1 padding
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013453"></A>           u2 offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013451"></A>          } internal_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013449"></A>          { u1 package_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013447"></A>           u1 class_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013445"></A>           u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013443"></A>          } external_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013527"></A>     } static_method_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013525"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7419"></A>The items in these structures are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7420"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7421"></A>The <KBD CLASS="Filename-Command">tag</KBD> item of a <KBD CLASS="Filename-Command">CONSTANT_StaticFieldref_info</KBD> structure has the value <KBD CLASS="Filename-Command">CONSTANT_StaticFieldref</KBD> (5).
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7422"></A>The <KBD CLASS="Filename-Command">tag</KBD> item of a <KBD CLASS="Filename-Command">CONSTANT_StaticMethodref_info</KBD> structure has the value <KBD CLASS="Filename-Command">CONSTANT_StaticMethodref</KBD> (6).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7423"></A><KBD CLASS="Filename-Command">static_field_ref and static_method_ref</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7424"></A>The <KBD CLASS="Filename-Command">static_field_ref</KBD> and <KBD CLASS="Filename-Command">static_method_ref</KBD> item represents a reference to a <KBD CLASS="Filename-Command">static</KBD> field or <KBD CLASS="Filename-Command">static</KBD> method, respectively. Static method references include references to static methods, constructors, and private virtual methods.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7425"></A>If the referenced item is defined in this package the structure represents an <KBD CLASS="Filename-Command">internal_ref</KBD> and the high bit of the structure is zero. If the referenced item is defined in another package the structure represents an <KBD CLASS="Filename-Command">external_ref</KBD> and the high bit of the structure is one.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7426"></A><KBD CLASS="Filename-Command">  internal_ref</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7427"></A>The internal_ref item represents a reference to a <KBD CLASS="Filename-Command">static</KBD> field or method defined in this package. The items in the structure are:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7428"></A><KBD CLASS="Filename-Command">     padding</KBD>
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-7429"></A>The <KBD CLASS="Filename-Command">padding</KBD> item is equal to 0.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7430"></A><KBD CLASS="Filename-Command">     offset</KBD>
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-7431"></A>The <KBD CLASS="Filename-Command">offset</KBD> item of a <KBD CLASS="Filename-Command">CONSTANT_StaticFieldref_info</KBD> structure represents a 16-bit offset into the Static Field Image defined by the Static Field component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>) to this static field.
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-7432"></A>The <KBD CLASS="Filename-Command">offset</KBD> item of a <KBD CLASS="Filename-Command">CONSTANT_StaticMethodref_info</KBD> structure represents a 16-bit offset into the info item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) to a <KBD CLASS="Filename-Command">method_info</KBD> structure. The <KBD CLASS="Filename-Command">method_info</KBD> structure must represent the referenced method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7433"></A><KBD CLASS="Filename-Command">  external_ref</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7434"></A>The <KBD CLASS="Filename-Command">external_ref</KBD> item represents a reference to a static field or method defined in an imported package. The items in the structure are:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7435"></A><KBD CLASS="Filename-Command">     package_token</KBD>
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-1001047"></A>The <KBD CLASS="Filename-Command">package_token</KBD> item represents a <KBD CLASS="Filename-Command">package</KBD> token (<A HREF="JCVM04naming.html#13665" CLASS="XRef">Section 4.3.7.1, Package</A>) defined in the Import Component (<A HREF="JCVM06cap.html#41659" CLASS="XRef">Section 6.6, Import Component</A>) of this CAP file. The value of this token must be a valid index into the packages table item of the <KBD CLASS="Filename-Command">import_component</KBD> structure. The package represented at that index must be the imported package.
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17651"></A>The value of the <KBD CLASS="Filename-Command">package</KBD> token must be between 0 and 127, inclusive.
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17188"></A>The high bit of the <KBD CLASS="Filename-Command">package_token</KBD> item is equal to one.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7438"></A><KBD CLASS="Filename-Command">     class_token</KBD>
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17670"></A>The <KBD CLASS="Filename-Command">class_token</KBD> item represents the token (<A HREF="JCVM04naming.html#14497" CLASS="XRef">Section 4.3.7.2, Classes and Interfaces</A>) of the class of the referenced class. It has the value of the <KBD CLASS="Filename-Command">class</KBD> token of the class as defined in the Export file of the imported package.
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17679"></A>The class indicated by the <KBD CLASS="Filename-Command">class_token</KBD> item must define the referenced field or method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7440"></A><KBD CLASS="Filename-Command">     token</KBD>
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-7441"></A>The <KBD CLASS="Filename-Command">token</KBD> item of a <KBD CLASS="Filename-Command">CONSTANT_StaticFieldref_info</KBD> structure represents a static field token (<A HREF="JCVM04naming.html#32517" CLASS="XRef">Section 4.3.7.3, Static Fields</A>) as defined in the Export file of the imported package. It has the value of the token of the referenced field.
</P>
<P CLASS="ParaIndent3"><A NAME="pgfId-17257"></A>The token item of a <KBD CLASS="Filename-Command">CONSTANT_StaticMethodref_info</KBD> structure represents a static method token (<A HREF="JCVM04naming.html#30947" CLASS="XRef">Section 4.3.7.4, Static Methods and Constructors</A>) as defined in the <KBD CLASS="Filename-Command">Export</KBD> file of the imported package. It has the value of the token of the referenced method.
</P><H2 CLASS="Head1"><A NAME="pgfId-17253"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.8	<A NAME="12321"></A>Class Component<A NAME="marker-54607"></A></H2>
<P CLASS="Paragraph"><A NAME="pgfId-17725"></A>The Class Component describes each of the classes and interfaces defined in this package. It does not contain complete access information and content details for each class and interface. Instead, the information included is limited to that required to execute operations associated with a particular class or interface, without performing verification. Complete details regarding the classes and interfaces defined in this package are included in the Descriptor Component (<A HREF="JCVM06cap.html#34818" CLASS="XRef">Section 6.13, Descriptor Component</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-14298"></A>The information included in the Class Component for each interface is sufficient to uniquely identify the interface and to test whether or not a cast to that interface is valid.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7444"></A>The information included in the Class Component for each class is sufficient to resolve operations associated with instances of a class. The operations include creating an instance, testing whether or not a cast of the instance is valid, dispatching virtual method invocations, and dispatching interface method invocations. Also included is sufficient information to locate instance fields of type <KBD CLASS="Filename-Command">reference</KBD>, including arrays.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-42446"></A>The classes represented in the Class Component reference other entries in the Class Component in the form of superclass, superinterface and implemented interface references. When a superclass, superinterface or implemented interface is defined in an imported package the Import Component is used in the representation of the reference.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-17712"></A>The classes represented in the Class Component also contain references to virtual methods defined in the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) of this CAP file. References to virtual methods defined in imported packages are not explicitly described. Instead such methods are located through a superclass within the hierarchy of the class, where the superclass is defined in the same imported package as the virtual method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18405"></A>The Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>), Export Component (<A HREF="JCVM06cap.html#Export Component" CLASS="XRef">Section 6.12, Export Component</A>), Descriptor Component (<A HREF="JCVM06cap.html#34818" CLASS="XRef">Section 6.13, Descriptor Component</A>) and Debug Component (<A HREF="JCVM06cap.html#26211" CLASS="XRef">Section 6.14, Debug Component</A>) reference classes and interfaces defined in the Class Component. No other CAP file components reference the Class Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-14305"></A>The Class Component is represented by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1013607"></A>class_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013609"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013611"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013613"></A>     u2 signature_pool_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013615"></A>     type_descriptor signature_pool[]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013617"></A>     interface_info interfaces[]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013619"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7452"></A>The items in the <KBD CLASS="Filename-Command">class_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7453"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7454"></A>The tag item has the value <KBD CLASS="Filename-Command">COMPONENT_Class</KBD> (6).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7455"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7456"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">class_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-47207"></A><KBD CLASS="Filename-Command">signature_pool_length</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-47208"></A>The <KBD CLASS="Filename-Command">signature_pool_length</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">signature_pool[]</KBD> item. The value of the <KBD CLASS="Filename-Command">signature_pool_length</KBD> item must be zero if the package does not define any remote interfaces or remote classes.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-47209"></A><KBD CLASS="Filename-Command">signature_pool[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-47202"></A>The <KBD CLASS="Filename-Command">signature_pool[]</KBD> item represents a list of variable-length <KBD CLASS="Filename-Command">type_descriptor</KBD> structures. These descriptors represent the signatures of the remote methods.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-9264"></A><KBD CLASS="Filename-Command">interfaces[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9281"></A>The <KBD CLASS="Filename-Command">interfaces</KBD> item represents an array of <KBD CLASS="Filename-Command">interface_info</KBD> structures. Each interface defined in this package is represented in the array. The entries are ordered based on hierarchy such that a superinterface has a lower index than any of its subinterfaces.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-9249"></A><KBD CLASS="Filename-Command">classes[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9258"></A>The <KBD CLASS="Filename-Command">classes</KBD> item represents a table of variable-length <KBD CLASS="Filename-Command">class_info</KBD> structures. Each class defined in this package is represented in the array. The entries are ordered based on hierarchy such that a superclass has a lower index than any of its subclasses.
</P><H3 CLASS="Head2"><A NAME="pgfId-53165"></A>6.8.1	<A NAME="13201"></A>type_descriptor<A NAME="marker-54608"></A></H3>
<P CLASS="Paragraph"><A NAME="pgfId-53166"></A>The <KBD CLASS="Filename-Command">type_descriptor</KBD> structure represents the type of a field or the signature of a method.
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1013718"></A>type_descriptor {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013720"></A>    u1 nibble_count;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013722"></A>    u1 type[(nibble_count+1) / 2];
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1013724"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-53176"></A>The <KBD CLASS="Filename-Command">type_descriptor</KBD> structure contains the following elements:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53188"></A><KBD CLASS="Filename-Command">nibble_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53189"></A>The <KBD CLASS="Filename-Command">nibble_count</KBD> value represents the number of nibbles required to describe the type encoded in the type array. 
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53190"></A><KBD CLASS="Filename-Command">type[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53191"></A>The <KBD CLASS="Filename-Command">type</KBD> array contains an encoded description of the type, composed of individual nibbles. If the <KBD CLASS="Filename-Command">nibble_count</KBD> item is an odd number, the last nibble in the <KBD CLASS="Filename-Command">type</KBD> array must be <KBD CLASS="Filename-Command">0x0</KBD>. The values of the type descriptor nibbles are defined in the following table. 
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-999265"> </A> TABLE 6-6 	Type Descriptor Values  </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53194"></A>Type
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53196"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53198"></A>void
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53200"></A>0x1
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53202"></A>boolean
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53204"></A>0x2
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53206"></A>byte
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53208"></A>0x3
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53210"></A>short
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53212"></A>0x4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53214"></A>int
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53216"></A>0x5
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53218"></A>reference
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53220"></A>0x6
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53222"></A>array of boolean
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53224"></A>0xA
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53226"></A>array of byte
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53228"></A>0xB
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53230"></A>array of short
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53232"></A>0xC
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53234"></A>array of int
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53236"></A>0xD
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53238"></A>array of reference
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53240"></A>0xE
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-53242"></A>Class <KBD CLASS="Filename-Command">reference</KBD> types are described using the reference nibble <KBD CLASS="Filename-Command">0x6</KBD>, followed by a 2-byte (4-nibble) <KBD CLASS="Filename-Command">class_ref</KBD> structure. The <KBD CLASS="Filename-Command">class_ref</KBD> structure is defined as part of the <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure (<A HREF="JCVM06cap.html#39801" CLASS="XRef">Section 6.7.1, CONSTANT_Classref</A>). For example, a field of type reference to <KBD CLASS="Filename-Command">p1.c1</KBD> in a CAP file defining package <KBD CLASS="Filename-Command">p0</KBD> is described as: 
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-999292"> </A> TABLE 6-7 	Encoded Reference Type p1.c1  </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53248"></A>Nibble
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53250"></A>Value
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53252"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53254"></A>0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53256"></A>0x6
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53258"></A>reference
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53260"></A>1
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53262"></A>&lt;p1&gt;
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53264"></A>package token
<BR>(high bit on)
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53266"></A>2
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53272"></A>3
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53274"></A>&lt;c1&gt;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-53275"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53277"></A>class token
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53279"></A>4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53285"></A>5
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53287"></A>0x0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53289"></A>padding
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-53310"></A>The following are examples of the array types: 
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000003"> </A> TABLE 6-8 	Encoded Byte Array Type  </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53293"></A>Nibble
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53295"></A>Value
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53297"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53299"></A>0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53301"></A>0xB
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53303"></A>array of byte
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53305"></A>1
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53307"></A>0x0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53309"></A>padding
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-53356"></A>&nbsp;
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000009"> </A> TABLE 6-9 	Encoded Reference Array Type p1.c1  </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53314"></A>Nibble
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53316"></A>Value
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53318"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53320"></A>0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53322"></A>0xE
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53324"></A>array of <KBD CLASS="Filename-Command">reference</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53326"></A>1
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53328"></A>&lt;p1&gt;
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53330"></A>package token
<BR>(high bit on)
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53332"></A>2
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53338"></A>3
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53340"></A>&lt;c1&gt;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-53341"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53343"></A>class token
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53345"></A>4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53351"></A>5
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53353"></A>0x0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53355"></A><KBD CLASS="Filename-Command">padding</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-53358"></A>Method signatures are encoded in the same way, with the return type of the method encoded at the end of the sequence of nibbles. The return type is encoded in as many nibbles as required to represent it. For example:
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000015"> </A> TABLE 6-10 	Encoded Method Signature ()V </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53361"></A>Nibble
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53363"></A>Value
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53365"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53367"></A>0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53369"></A>0x1
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53371"></A>void
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53373"></A>1
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53375"></A>0x0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53377"></A>padding
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-53423"></A>&nbsp;
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000021"> </A> TABLE 6-11 	Encoded Method Signature (Lp1.ci;)S </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53381"></A>Nibble
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53383"></A>Value
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-53385"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53387"></A>0
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53389"></A>0x6
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53391"></A>reference
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53393"></A>1
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53395"></A>&lt;p1&gt;
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53397"></A>package token
<BR>(high bit on)
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53399"></A>2
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53405"></A>3
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53407"></A>&lt;c1&gt;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-53408"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53410"></A>class token
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53412"></A>4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-53418"></A>5
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53420"></A>0x4
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53422"></A>short
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR><H3 CLASS="Head2"><A NAME="pgfId-53163"></A>6.8.2	<A NAME="41771"></A>interface_info<A NAME="marker-54609"></A> and <A NAME="marker-54610"></A>class_info</H3>
<P CLASS="Paragraph"><A NAME="pgfId-1014061"></A>The <KBD CLASS="Filename-Command">interface_info</KBD> and <KBD CLASS="Filename-Command">class_info</KBD> structures represent interfaces and classes, respectively. The two are differentiated by the value of the high bit in the structures. They are defined as follows:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014064"></A>interface_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014066"></A>        u1 bitfield {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014068"></A>         bit[4] flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014070"></A>         bit[4] interface_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014072"></A>         }
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014074"></A>         class_ref superinterfaces[interface_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014079"></A>     interface_name_info interface_name<A NAME="fnote5"></A><A HREF="#pgfId-1014078"  CLASS="footnote"><SUP>[5]</SUP></A>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014081"></A>}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014083"></A>&nbsp;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014085"></A>class_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014087"></A>        u1 bitfield {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014089"></A>         bit[4] flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014091"></A>         bit[4] interface_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014093"></A>	}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014095"></A>	class_ref super_class_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014097"></A>	u1 declared_instance_size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014099"></A>	u1 first_reference_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014101"></A>	u1 reference_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014103"></A>	u1 public_method_table_base
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014105"></A>	u1 public_method_table_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014107"></A>	u1 package_method_table_base
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014109"></A>	u1 package_method_table_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014111"></A>	u2 public_virtual_method_table[public_method_table_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014113"></A>	u2 package_virtual_method_table[package_method_table_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014115"></A> 	implemented_interface_info interfaces[interface_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014117"></A>	remote_interface_info remote_interfaces <A NAME="fnote6"></A><A HREF="#pgfId-1014208"  CLASS="footnote"><SUP>[6]</SUP></A>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014119"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV><H4 CLASS="Head3"><A NAME="pgfId-9190"></A>6.8.2.1	interface_info and class_info shared Items</H4>
<P CLASS="Paragraph"><A NAME="pgfId-9192"></A><KBD CLASS="Filename-Command">flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9193"></A>The <KBD CLASS="Filename-Command">flags</KBD> item is a mask of modifiers used to describe this interface or class. Valid values are shown in the following table:
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000100"> </A> TABLE 6-12 	CAP File Interface and Class Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-39217"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-39219"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39221"></A>ACC_INTERFACE
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39223"></A>0x8
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39225"></A>ACC_SHAREABLE
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-39227"></A>0x4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-47314"></A>ACC_REMOTE
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-47316"></A>0x2
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-17406"></A>The <KBD CLASS="Filename-Command">ACC_INTERFACE</KBD> flag indicates whether this <KBD CLASS="Filename-Command">interface_info</KBD> or <KBD CLASS="Filename-Command">class_info</KBD> structure represents an interface or a class. The value must be one if it represents an <KBD CLASS="Filename-Command">interface_info</KBD> structure and zero if a <Alt CLASS="InlineAltText">class_info</Alt> structure.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9380"></A>The <KBD CLASS="Filename-Command">ACC_SHAREABLE</KBD> flag in an interface_info structure indicates whether this interface is shareable. The value of this flag must be one if and only if the interface is <KBD CLASS="Filename-Command">javacard.framework.Shareable</KBD> interface or extends that interface directly or indirectly.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9384"></A>The <KBD CLASS="Filename-Command">ACC_SHAREABLE</KBD> flag in a <KBD CLASS="Filename-Command">class_info</KBD> structure indicates whether this class is shareable.<A NAME="fnote7"></A><A HREF="#pgfId-23879"  CLASS="footnote"><SUP>[7]</SUP></A> The value of this flag must be one if and only if this class or any of its superclasses implements an interface that is shareable.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1011517"></A>The <KBD CLASS="Filename-Command">ACC_REMOTE</KBD> flag indicates whether this class or interface is remote. The value of this flag must be one if and only if the class or interface satisfies the requirements defined in <A HREF="JCVM02lang.html#18736" CLASS="XRef">Section 2.2.6.1, Remote Classes and Remote Interfaces</A>. 
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1011521"></A>All other flag values are reserved. Their values must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-45289"></A><KBD CLASS="Filename-Command">interface_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1002708"></A>The <KBD CLASS="Filename-Command">interface_count</KBD> item of the <KBD CLASS="Filename-Command">interface_info</KBD> structure indicates the number of entries in the <KBD CLASS="Filename-Command">superinterfaces[]</KBD> table item. The value represents the number of direct and indirect superinterfaces of this interface. Indirect superinterfaces are the set of superinterfaces of the direct superinterfaces. Valid values are between 0 and 14, inclusive.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-43210"></A>The <KBD CLASS="Filename-Command">interface_count</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure indicates the number of entries in the interfaces table item. The value represents the number of interfaces implemented by this class, including superinterfaces of those interfaces and potentially interfaces implemented by superclasses of this class. Valid values are between 0 and 15, inclusive.
</P><H4 CLASS="Head3"><A NAME="pgfId-53480"></A>6.8.2.2	interface_info Items</H4>
<P CLASS="Paragraph"><A NAME="pgfId-43216"></A><KBD CLASS="Filename-Command">superinterfaces[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1002721"></A>The <KBD CLASS="Filename-Command">superinterfaces[]</KBD> item of the <KBD CLASS="Filename-Command">interface_info</KBD> structure is an array of <KBD CLASS="Filename-Command">class_ref</KBD> structures representing the superinterfaces of this interface. The <KBD CLASS="Filename-Command">class_ref</KBD> structure is defined as part of the <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure (<A HREF="JCVM06cap.html#39801" CLASS="XRef">Section 6.7.1, CONSTANT_Classref</A>). This array is empty if this interface has no superinterfaces. Both direct and indirect superinterfaces are represented in the array. Class Object is not included.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-47808"></A><KBD CLASS="Filename-Command">interface_name[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-47811"></A>The <KBD CLASS="Filename-Command">interface_name[]</KBD> item represents interface name information required if the interface is remote. The <KBD CLASS="Filename-Command">interface_name[]</KBD> item is defined by a <KBD CLASS="Filename-Command">interface_name_info</KBD> structure. If the value of the <KBD CLASS="Filename-Command">ACC_REMOTE</KBD> flag is zero, the structure is defined as:
</P>
<PRE CLASS="Codeline"><A NAME="pgfId-47813"></A>   interface_name_info {
</PRE>
<PRE CLASS="Codeline"><A NAME="pgfId-1002611"></A>       }
</PRE>
<P CLASS="ParaIndent1"><A NAME="pgfId-47814"></A>If the value of the <KBD CLASS="Filename-Command">ACC_REMOTE</KBD> flag is one, the structure is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014299"></A>   interface_name_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014301"></A>      u1 interface_name_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014303"></A>      u1 interface_name[interface_name_length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014305"></A>     }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-47816"></A>The values in the <KBD CLASS="Filename-Command">interface_name_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-47818"></A><KBD CLASS="Filename-Command">   interface_name_length</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-47819"></A>The <KBD CLASS="Filename-Command">interface_name_length</KBD> item is the number of bytes in <KBD CLASS="Filename-Command">interface_name[]</KBD> item.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-47820"></A><KBD CLASS="Filename-Command">   interface_name</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-47821"></A>The item is a variable length representation of the name of this interface in UTF-8 format.
</P><H4 CLASS="Head3"><A NAME="pgfId-47809"></A>6.8.2.3	class_info Items</H4>
<P CLASS="Paragraph"><A NAME="pgfId-43242"></A><KBD CLASS="Filename-Command">super_class_ref</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-43243"></A>The <KBD CLASS="Filename-Command">super_class_ref</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure is a <KBD CLASS="Filename-Command">class_ref</KBD> structure representing the superclass of this class. The <KBD CLASS="Filename-Command">class_ref</KBD> structure is defined as part of the <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure (<A HREF="JCVM06cap.html#39801" CLASS="XRef">Section 6.7.1, CONSTANT_Classref</A>).
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9406"></A>The <KBD CLASS="Filename-Command">super_class_ref</KBD> item has the value of <KBD CLASS="Filename-Command">0xFFFF</KBD> only if this class does not have a superclass. Otherwise the value of the <KBD CLASS="Filename-Command">super_class_ref</KBD> item is limited only by the constraints of the <KBD CLASS="Filename-Command">class_ref</KBD> structure.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7502"></A><KBD CLASS="Filename-Command">declared_instance_size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7503"></A>The <KBD CLASS="Filename-Command">declared_instance_size</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure represents the number of 16-bit cells required to represent the instance fields declared by this class. It does not include instance fields declared by superclasses of this class.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7504"></A>Instance fields of type int are represented in two 16-bit cells, while all other field types are represented in one 16-bit cell.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7506"></A><KBD CLASS="Filename-Command">first_reference_token</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1001371"></A>The <KBD CLASS="Filename-Command">first_reference_token</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure represents the instance field token (<A HREF="JCVM04naming.html#30617" CLASS="XRef">Section 4.3.7.5, Instance Fields</A>) value of the first reference type instance field defined by this class. It does not include instance fields defined by superclasses of this class.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-17830"></A>If this class does not define any reference type instance fields, the value of the <KBD CLASS="Filename-Command">first_reference_token</KBD> is <KBD CLASS="Filename-Command">0xFF</KBD>. Otherwise the value of the <KBD CLASS="Filename-Command">first_reference_token</KBD> item must be within the range of the set of instance field tokens of this class.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-17831"></A><KBD CLASS="Filename-Command">reference_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7510"></A>The <KBD CLASS="Filename-Command">reference_count</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure represents the number of reference type instance field defined by this class. It does not include reference type instance fields defined by superclasses of this class.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-17838"></A>Valid values of the <KBD CLASS="Filename-Command">reference_count</KBD> item are between 0 and the maximum number of instance fields defined by this class.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7512"></A><KBD CLASS="Filename-Command">public_method_table_base</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-43199"></A>The <KBD CLASS="Filename-Command">public_method_table_base</KBD> item of the class_info structure is equal to the virtual method token value (<A HREF="JCVM04naming.html#22193" CLASS="XRef">Section 4.3.7.6, Virtual Methods</A>) of the first method in the public_virtual_method_table[] array. If the <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> array is empty, the value of the <KBD CLASS="Filename-Command">public_method_table_base</KBD> item is equal to the public_method_table_base item of the <KBD CLASS="Filename-Command">class_info</KBD> structure of this class' superclass plus the <KBD CLASS="Filename-Command">public_method_table_count</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure of this class' superclass. If this class has no superclass and the <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> array is empty, the value of the <KBD CLASS="Filename-Command">public_method_table_base</KBD> item is zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7515"></A><KBD CLASS="Filename-Command">public_method_table_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7516"></A>The <KBD CLASS="Filename-Command">public_method_table_count</KBD> item of the class_info structure indicates the number of entries in the <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> array.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-15861"></A>If this class does not define any public or protected override methods, the minimum valid value of <KBD CLASS="Filename-Command">public_method_table_count</KBD> item is the number of public and protected virtual methods declared by this class. If this class defines one or more public or protected override methods, the minimum valid value of <KBD CLASS="Filename-Command">public_method_table_count</KBD> item is the value of the largest public or protected virtual method token, minus the value of the smallest public or protected virtual override method token, plus one.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-15833"></A>The maximum valid value of the <KBD CLASS="Filename-Command">public_method_table_count</KBD> item is the value of the largest public or protected virtual method token, plus one.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-15882"></A>Any value for the <KBD CLASS="Filename-Command">public_method_table_count</KBD> item between the minimum and maximum specified here is valid. However, the value must correspond to the number of entries in the <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7518"></A><KBD CLASS="Filename-Command">package_method_table_base</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-43181"></A>The <KBD CLASS="Filename-Command">package_method_table_base</KBD> item of the class_info structure is equal to the virtual method token value (<A HREF="JCVM04naming.html#22193" CLASS="XRef">Section 4.3.7.6, Virtual Methods</A>) of the first entry in the <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> array. If the <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> array is empty, the value of the <KBD CLASS="Filename-Command">package_method_table_base</KBD> item is equal to the <KBD CLASS="Filename-Command">package_method_table_base</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure of this class' superclass, plus the <KBD CLASS="Filename-Command">package_method_table_count</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure of this class' superclass. If this class has no superclass or inherits from a class defined in another package and the <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> array is empty, the value of the <KBD CLASS="Filename-Command">package_method_table_base</KBD> item is zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-15876"></A><KBD CLASS="Filename-Command">package_method_table_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7522"></A>The <KBD CLASS="Filename-Command">package_method_table_count</KBD> item of the class_info structure indicates the number of entries in the <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> array.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-14327"></A>If this class does not define any override methods, the minimum valid value of <KBD CLASS="Filename-Command">package_method_table_count</KBD> item is the number of package visible virtual methods declared by this class. If this class defines one or more package visible override methods, the minimum valid value of <KBD CLASS="Filename-Command">package_method_table_count</KBD> item is the value of the largest package visible virtual method token, minus the value of the smallest package visible virtual override method token, plus one.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-14329"></A>The maximum valid value of the <KBD CLASS="Filename-Command">package_method_table_count</KBD> item is the value of the largest package visible method token, plus one.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-15885"></A>Any value for the <KBD CLASS="Filename-Command">package_method_table_count</KBD> item between the minimum and maximum specified here are valid. However, the value must correspond to the number of entries in the <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7524"></A><KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7525"></A>The <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> item of the class_info structure represents an array of public and protected virtual methods. These methods can be invoked on an instance of this class. The <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> array includes methods declared or defined by this class. It may also include methods declared or defined by any or all of its superclasses. The value of an index into this table must be equal to the value of the virtual method token of the indicated method, minus the value of the <KBD CLASS="Filename-Command">public_method_table_base</KBD> item.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-17922"></A>Entries in the <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> array that represent methods defined or declared in this package contain offsets into the info item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) to the <KBD CLASS="Filename-Command">method_info</KBD> structure representing the method. Entries that represent methods defined or declared in an imported package contain the value <KBD CLASS="Filename-Command">0xFFFF</KBD>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7530"></A>Entries for methods that are declared abstract are represented in the <KBD CLASS="Filename-Command">public_virtual_method_table[]</KBD> array in the same way as non-abstract methods.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7531"></A><KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7532"></A>The <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> item of the class_info structure represents an array of package-visible virtual methods. These methods can be invoked on an instance of this class. The <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> array includes methods declared or defined by this class. It may also include methods declared or defined by any or all of its superclasses that are defined in this package. The value of an index into this table must be equal to the value of the virtual method token of the indicated method <KBD CLASS="Filename-Command">&amp; 0x7F</KBD>, minus the value of the <KBD CLASS="Filename-Command">package_method_table_base</KBD> item.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7533"></A>All entries in the <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> array represent methods defined or declared in this package. They contain offsets into the info item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) to the <KBD CLASS="Filename-Command">method_info</KBD> structure representing the method.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7537"></A>Entries for methods that are declared abstract, not including those defined by interfaces, are represented in the <KBD CLASS="Filename-Command">package_virtual_method_table[]</KBD> array in the same way as non-abstract methods.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7538"></A><KBD CLASS="Filename-Command">interfaces[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7539"></A>The <KBD CLASS="Filename-Command">interfaces</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure represents a table of variable-length <KBD CLASS="Filename-Command">implemented_interface_info</KBD> structures. The table must contain an entry for each of the directly implemented interfaces indicated in the declaration of this class and each of the interfaces in the hierarchies of those interfaces. Interfaces that occur more than once are represented by a single entry.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7540"></A>Given the declarations below, the number of entries for class <KBD CLASS="Filename-Command">c0</KBD> is 1 and the entry in the <KBD CLASS="Filename-Command">interfaces</KBD> array is <KBD CLASS="Filename-Command">i0</KBD>. The number of entries for class <KBD CLASS="Filename-Command">c1</KBD> is 3 and the entries in the <KBD CLASS="Filename-Command">interfaces</KBD> array are <KBD CLASS="Filename-Command">i1</KBD>, <KBD CLASS="Filename-Command">i2</KBD>, and <KBD CLASS="Filename-Command">i3</KBD>. The entries for class <KBD CLASS="Filename-Command">c1</KBD> must not include interface <KBD CLASS="Filename-Command">i0</KBD>, which is implemented only by the superclass of <KBD CLASS="Filename-Command">c1</KBD>.
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014399"></A>   interface i0 {}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014401"></A>   interface i1 {}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014403"></A>   interface i2 extends i1 {}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014405"></A>   interface i3 {}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014407"></A>   class c0 implements i0 {}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014409"></A>   class c1 extends c0 implements i2, i3 {}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-47827"></A><KBD CLASS="Filename-Command">remote_interfaces</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-47863"></A>The <KBD CLASS="Filename-Command">remote_interfaces</KBD> item represents information required if this class or any of its super classes implements a remote interface. This item must be omitted if the <KBD CLASS="Filename-Command">ACC_REMOTE</KBD> flag has a value of zero. The <KBD CLASS="Filename-Command">remote_interfaces</KBD> item is defined by a <KBD CLASS="Filename-Command">remote_interface_info</KBD> structure. 
</P><H4 CLASS="Head3"><A NAME="pgfId-53520"></A>6.8.2.4	implemented_interface_info</H4>
<P CLASS="Paragraph"><A NAME="pgfId-53484"></A>The <KBD CLASS="Filename-Command">implemented_interface_info</KBD> structure is defined as follows:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014479"></A><KBD CLASS="Filename-Command">implemented_interface_info {</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014481"></A><KBD CLASS="Filename-Command">   class_ref interface</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014483"></A><KBD CLASS="Filename-Command">   u1 count</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014485"></A><KBD CLASS="Filename-Command">   u1 index[count]</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014487"></A><KBD CLASS="Filename-Command">}</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-53491"></A>The items in the <KBD CLASS="Filename-Command">implemented_interface_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53492"></A><KBD CLASS="Filename-Command">interface</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53493"></A>The <KBD CLASS="Filename-Command">interface</KBD> item has the form of a <KBD CLASS="Filename-Command">class_ref</KBD> structure. The class_ref structure is defined as part of the <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure (<A HREF="JCVM06cap.html#39801" CLASS="XRef">Section 6.7.1, CONSTANT_Classref</A>). The <KBD CLASS="Filename-Command">interface_info</KBD> structure referenced by the interface item represents an interface implemented by this class.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53497"></A><KBD CLASS="Filename-Command">count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53498"></A>The <KBD CLASS="Filename-Command">count</KBD> item indicates the number of entries in the <KBD CLASS="Filename-Command">index[]</KBD> array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53499"></A><KBD CLASS="Filename-Command">index[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53500"></A>The <KBD CLASS="Filename-Command">index[]</KBD> item is an array that maps declarations of interface methods to implementations of those methods in this class. It is a representation of the set of methods declared by the interface and its superinterfaces.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53501"></A>Entries in the index array must be ordered such that the interface method token value (<A HREF="JCVM04naming.html#17038" CLASS="XRef">Section 4.3.7.7, Interface Methods</A>) of the interface method is equal to the index into the array. The interface method token value is assigned to the method within the scope of the interface definition, not within the scope of this class.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53505"></A>The values in the <KBD CLASS="Filename-Command">index[]</KBD> array represent the virtual method tokens (<A HREF="JCVM04naming.html#22193" CLASS="XRef">Section 4.3.7.6, Virtual Methods</A>) of the implementations of the interface methods. The virtual method token values are defined within the scope of the hierarchy of this class.
</P><H4 CLASS="Head3"><A NAME="pgfId-53562"></A>6.8.2.5	remote_interface_info</H4>
<P CLASS="Paragraph"><A NAME="pgfId-53534"></A> If the value of the <KBD CLASS="Filename-Command">ACC_REMOTE</KBD> flag is zero, this structure is defined as:
</P>
<PRE CLASS="Codeline"><A NAME="pgfId-53535"></A><KBD CLASS="Filename-Command">remote_interface_info {</KBD>
</PRE>
<PRE CLASS="Codeline"><A NAME="pgfId-1001162"></A><KBD CLASS="Filename-Command">}</KBD>
</PRE>
<P CLASS="Paragraph"><A NAME="pgfId-53536"></A>If the value of the <KBD CLASS="Filename-Command">ACC_REMOTE</KBD> flag is one, this structure is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014561"></A>remote_interface_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014563"></A>     u1 remote_methods_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014565"></A>     remote_method_info remote_methods[remote_methods_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014567"></A>     u1 hash_modifier_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014569"></A>     u1 hash_modifier[hash_modifier_length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014571"></A>     u1 class_name_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014573"></A>     u1 class_name[class_name_length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014575"></A>     u1 remote_interfaces_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014577"></A>     class_ref remote_interfaces[remote_interfaces_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014579"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-53538"></A>The <KBD CLASS="Filename-Command">remote_interface_info</KBD> structure is defined as:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53539"></A><KBD CLASS="Filename-Command">remote_methods_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53540"></A>The <KBD CLASS="Filename-Command">remote_methods_count</KBD> item indicates the number of entries in the <KBD CLASS="Filename-Command">remote_methods</KBD> array. 
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53541"></A><KBD CLASS="Filename-Command">remote_methods[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53542"></A>The <KBD CLASS="Filename-Command">remote_methods</KBD> item of the <KBD CLASS="Filename-Command">class_info</KBD> structure is an array of <KBD CLASS="Filename-Command">remote_method_info</KBD> structures that maps each remote method available in the class to its hash code and its type definition in the <KBD CLASS="Filename-Command">signature_pool[]</KBD>. The methods are listed in numerically ascending order of hash values.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53543"></A>The <KBD CLASS="Filename-Command">remote_method_info</KBD> structure is defined as follows:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014685"></A>   remote_method_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014687"></A>       u2 remote_method_hash
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014689"></A>       u2 signature_offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014691"></A>       u1 virtual_method_token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014693"></A>   }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-53546"></A>The items in the <KBD CLASS="Filename-Command">remote_method_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53547"></A><KBD CLASS="Filename-Command">   remote_method_hash</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-53548"></A>The <KBD CLASS="Filename-Command">remote_method_hash</KBD> item contains a two-byte hash value for the method. The hash value is computed from the simple (not fully qualified) name of the method concatenated with its method descriptor. The representation of the method descriptor is the same as in a Java class file. See the specification described in <I CLASS="Title"></I><EM CLASS="Emphasis">Java Virtual Machine Specification</EM><I CLASS="Title"></I> (&#167;4.3.3).
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-53552"></A>The hash value uniquely identifies the method within the class. 
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-53553"></A>The hash code is defined as the first two bytes of the SHA-1 message digest function performed on the <KBD CLASS="Filename-Command">hash_modifier[]</KBD> item described below followed by the name of the method followed by the method descriptor representation in UTF-8 format. Rare hash collisions are averted automatically during package conversion by adjusting the anti-collision string.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53554"></A><KBD CLASS="Filename-Command">   signature_offset</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-53555"></A>The <KBD CLASS="Filename-Command">signature_offset</KBD> item contains an offset from the <KBD CLASS="Filename-Command">signature_pool</KBD> item of the <KBD CLASS="Filename-Command">info</KBD> item of the Class Component to the variable-length type descriptor structure inside the <KBD CLASS="Filename-Command">signature_pool[]</KBD> item. This structure represents the signature of the remote method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53556"></A><KBD CLASS="Filename-Command">   virtual_method_token</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-53557"></A>The <KBD CLASS="Filename-Command">virtual_method_token</KBD> item is the virtual method token of the remote method in this class.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53568"></A><KBD CLASS="Filename-Command">hash_modifier_length</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53569"></A>The <KBD CLASS="Filename-Command">hash_modifier_length</KBD> item is the number of bytes in the following <KBD CLASS="Filename-Command">hash_modifier</KBD> item. The value of this item must be zero if an anti-collision string is not required.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53570"></A><KBD CLASS="Filename-Command">hash_modifier[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53571"></A>The <KBD CLASS="Filename-Command">hash_modifier[]</KBD> item is a variable length representation of the anti-collision string in UTF-8 format.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53572"></A><KBD CLASS="Filename-Command">class_name_length</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53573"></A>The <KBD CLASS="Filename-Command">class_name_length</KBD> item is the number of bytes used in the <KBD CLASS="Filename-Command">class_name[]</KBD> item.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53574"></A><KBD CLASS="Filename-Command">class_name[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53575"></A>The <KBD CLASS="Filename-Command">class_name[]</KBD> item is a variable length representation of the name of this class in UTF-8 format.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53576"></A><KBD CLASS="Filename-Command">remote_interfaces_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53577"></A>The <KBD CLASS="Filename-Command">remote_interfaces_count</KBD> item is the number of interfaces listed in the following <KBD CLASS="Filename-Command">remote_interfaces[]</KBD> item.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53578"></A><KBD CLASS="Filename-Command">remote_interfaces[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53579"></A>The <KBD CLASS="Filename-Command">remote_interfaces[]</KBD> item is a variable length array of <KBD CLASS="Filename-Command">class_ref</KBD> items. It represents the remote interfaces implemented by this class. The remote interfaces listed in this array, together with their superinterfaces must be the complete set of remote interfaces implemented by this class and all its superclasses.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53580"></A>Each entry has the form of a <KBD CLASS="Filename-Command">class_ref</KBD> structure. Each <KBD CLASS="Filename-Command">class_ref</KBD> structure must reference an <KBD CLASS="Filename-Command">interface_info</KBD> structure representing a remote interface implemented by this class.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53581"></A>The entries in the <KBD CLASS="Filename-Command">remote_interfaces[]</KBD> array must be ordered such that all remote interfaces from the same package are listed consecutively.
</P><H2 CLASS="Head1"><A NAME="pgfId-7568"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.9	<A NAME="30499"></A>Method <A NAME="marker-54611"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-7569"></A>The Method Component describes each of the methods declared in this package, excluding <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods and interface method declarations. Abstract methods defined by classes (not interfaces) are included. The exception handlers associated with each method are also described.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18003"></A>The Method Component does not contain complete access information and descriptive details for each method. Instead, the information is optimized for size and therefore limited to that required to execute each method without performing verification. Complete details regarding the methods defined in this package are included in the Descriptor Component (<A HREF="JCVM06cap.html#34818" CLASS="XRef">Section 6.13, Descriptor Component</A>). Among other information, the Descriptor Component contains the location and number of bytecodes for each method in the Method Component. This information can be used to parse the methods in the Method Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-44083"></A>Instructions and exception handler catch types in the Method Component reference entries in the Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>). No other CAP file components, including the Method Component, are referenced by the elements in the Method Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-44093"></A>The Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>), Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>), Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>), Export Component (<A HREF="JCVM06cap.html#Export Component" CLASS="XRef">Section 6.12, Export Component</A>), Descriptor Component (<A HREF="JCVM06cap.html#34818" CLASS="XRef">Section 6.13, Descriptor Component</A>), and Debug Component (<A HREF="JCVM06cap.html#26211" CLASS="XRef">Section 6.14, Debug Component</A>) reference methods defined in the Method Component. The Reference Location Component (<A HREF="JCVM06cap.html#34404" CLASS="XRef">Section 6.11, Reference Location Component</A>) references all constant pool indices contained in the Method Component. No other CAP file components reference the Method Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18004"></A>The Method Component is represented by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014784"></A><KBD CLASS="Filename-Command">method_component {</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014786"></A><KBD CLASS="Filename-Command">     u1 tag</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014788"></A><KBD CLASS="Filename-Command">     u2 size</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014790"></A><KBD CLASS="Filename-Command">     u1 handler_count</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014792"></A><KBD CLASS="Filename-Command">     exception_handler_info exception_handlers[handler_count]</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014794"></A><KBD CLASS="Filename-Command">     method_info methods[]</KBD>
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014796"></A><KBD CLASS="Filename-Command">}</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7578"></A>The items in the <KBD CLASS="Filename-Command">method_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7579"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7580"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">COMPONENT_Method</KBD> (7).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7581"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7582"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">method_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7583"></A><KBD CLASS="Filename-Command">handler_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7584"></A>The <KBD CLASS="Filename-Command">handler_count</KBD> item represents the number of entries in the <KBD CLASS="Filename-Command">exception_handlers</KBD> array. Valid values are between 0 and 255, inclusive.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7585"></A><KBD CLASS="Filename-Command">exception_handlers[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7586"></A>The <KBD CLASS="Filename-Command">exception_handlers</KBD> item represents an array of 8-byte <KBD CLASS="Filename-Command">exception_handler_info</KBD> structures. Each <KBD CLASS="Filename-Command">exception_handler_info</KBD> structure represents a catch or finally block defined in a method of this package.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46768"></A>Entries in the <KBD CLASS="Filename-Command">exception_handlers</KBD> array are sorted in ascending order by the the offset to the handler of the exception handler. Smaller offset values occur first in the array. This ordering constraint ensures that the first match found when searching for an exception handler is the correct match.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46772"></A>There are two consequences of this ordering constraint. First, a handler that is nested with the active range (try block) of another handler occurs first in the array. Second, when multiple handlers are associated with the same active range, they are ordered as they occur in a method. This is consistent with the ordering constraints defined for Java class files. An example is shown below.
</P><CAPTION CLASS="CodeCaption"><A NAME="pgfId-1000288"> </A> CODE EXAMPLE 6-1 	 <A NAME="73000"> </A> Exception Handler Example </CAPTION>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1014884"></A>try {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014886"></A>      ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014888"></A>	try {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014890"></A>          ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014892"></A>       } catch (NullPointerException e) {    // first
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014894"></A>           ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014896"></A>      }
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014898"></A>           ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014900"></A>} catch (Exception e) {                   // second
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014902"></A>      ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014904"></A>} finally {                               // third
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014906"></A>      ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014908"></A>}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014910"></A>...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014912"></A>try {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014914"></A>          ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014916"></A>} catch (SecurityException e) {           // fourth
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014918"></A>          ...
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014920"></A>}
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1014922"></A>methods[]
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-7589"></A>The <KBD CLASS="Filename-Command">methods</KBD> item represents a table of variable-length <KBD CLASS="Filename-Command">method_info</KBD> structures. Each entry represents a method declared in a class of this package. <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods and interface method declaration are not included; all other methods, including non-interface abstract methods, are.
</P><H3 CLASS="Head2"><A NAME="pgfId-7590"></A>6.9.1	<A NAME="marker-54612"></A>exception_handler_info</H3>
<P CLASS="Paragraph"><A NAME="pgfId-7591"></A>The <KBD CLASS="Filename-Command">exception_handler_info</KBD> structure is defined as follows:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1015112"></A>exception_handler_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015114"></A>     u2 start_offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015116"></A>     u2 bitfield {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015118"></A>          bit[1] stop_bit
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015120"></A>          bit[15] active_length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015122"></A>     }
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015124"></A>     u2 handler_offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015126"></A>     u2 catch_type_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015128"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-15691"></A>The items in the <KBD CLASS="Filename-Command">exception_handler_info</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7600"></A><KBD CLASS="Filename-Command">start_offset, active_length</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-997845"></A>The <KBD CLASS="Filename-Command">start_offset</KBD> and <KBD CLASS="Filename-Command">active_length</KBD> pair indicate the active range (try block) an exception handler. The <KBD CLASS="Filename-Command">start_offset</KBD> item indicates the beginning of the active range while the <KBD CLASS="Filename-Command">active_length</KBD> item indicates the number of bytes contained in the active range.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-997846"></A><KBD CLASS="Filename-Command">end_offset</KBD> is defined as <KBD CLASS="Filename-Command">start_offset</KBD> plus <KBD CLASS="Filename-Command">active_length</KBD>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-997847"></A>The <KBD CLASS="Filename-Command">start_offset</KBD> item and <KBD CLASS="Filename-Command">end_offset</KBD> are byte offsets into the <KBD CLASS="Filename-Command">info</KBD> item of the Method Component. The value of the <KBD CLASS="Filename-Command">start_offset</KBD> must be a valid offset into a <KBD CLASS="Filename-Command">bytecodes</KBD> array of a <KBD CLASS="Filename-Command">method_info</KBD> structure to an opcode of an instruction. The value of the <KBD CLASS="Filename-Command">end_offset</KBD> either must be a valid offset into a <KBD CLASS="Filename-Command">bytecodes</KBD> array of the same <KBD CLASS="Filename-Command">method_info</KBD> structure to an opcode of an instruction, or must be equal to the method's bytecode count, the length of the bytecodes array of the <KBD CLASS="Filename-Command">method_info</KBD> structure. The value of the <KBD CLASS="Filename-Command">start_offset</KBD> must be less than the value of the <KBD CLASS="Filename-Command">end_offset</KBD>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7604"></A>The <KBD CLASS="Filename-Command">start_offset</KBD> is inclusive and the <KBD CLASS="Filename-Command">end_offset</KBD> is exclusive; that is, the exception handler must be active while the execution address is within the interval [<KBD CLASS="Filename-Command">start_offset</KBD>, <KBD CLASS="Filename-Command">end_offset</KBD>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-46171"></A><KBD CLASS="Filename-Command">stop_bit</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46172"></A>The stop_bit item indicates whether the active range (try block) of this exception handler is contained within or is equal to the active range of any succeeding <KBD CLASS="Filename-Command">exception_handler_info</KBD> structures in this <KBD CLASS="Filename-Command">exception_handlers</KBD> array. At the Java source level, this indicates whether an active range is nested within another, or has at least one succeeding exception handler associated with the same range. The latter occurs when there is at least one succeeding catch block or a finally block.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46273"></A>The <KBD CLASS="Filename-Command">stop_bit</KBD> item is equal to 1 if the active range does not intersect with a succeeding exception handler's active range, and this exception handler is the last handler applicable to the active range. It is equal to 0 if the active range is contained within the active range of another exception handler, or there is at least one succeeding handler applicable to the same active range.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46261"></A>The <KBD CLASS="Filename-Command">stop_bit</KBD> provides an optimization to be used during the interpretation of the athrow bytecode. As the interpreter searches for an appropriate exception handler, it may terminate the search of the exception handlers in this Method Component under the following conditions:
</P>
<UL>
<UL>
<LI CLASS="Bullet2"><A NAME="pgfId-46697"></A>the location of the current program counter is less than the <KBD CLASS="Filename-Command">end_offset</KBD> of this exception handler, and
</LI>
<P CLASS="Linebreak">
</P>
<LI CLASS="Bullet2"><A NAME="pgfId-46699"></A>the <KBD CLASS="Filename-Command">stop_bit</KBD> of this exception handler is equal to 1.
</LI>
<P CLASS="Linebreak">
</P>
</UL>
</UL>
<P CLASS="ParaIndent1"><A NAME="pgfId-46975"></A>When these conditions are satisfied it is guaranteed that none of the succeeding exception handlers in this Method Component will contain an active range appropriate for the current exception.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46976"></A>In <A HREF="JCVM06cap.html#73000" CLASS="XRef">CODE EXAMPLE 6-1</A>, the <KBD CLASS="Filename-Command">stop_bit</KBD> item is set for both the third and fourth handlers.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7605"></A><KBD CLASS="Filename-Command">handler_offset</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7606"></A>The <KBD CLASS="Filename-Command">handler_offset</KBD> item represents a byte offset into the info item of the Method Component. It indicates the start of the exception handler. At the Java source level, this is equivalent to the beginning of a catch or finally block. The value of the item must be a valid offset into a bytecodes array of a <KBD CLASS="Filename-Command">method_info</KBD> structure to an opcode of an instruction, and must be less than the value of the method's bytecode count.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-46237"></A><KBD CLASS="Filename-Command">catch_type_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46239"></A>If the value of the <KBD CLASS="Filename-Command">catch_type_index</KBD> item is non-zero, it must be a valid index into the <KBD CLASS="Filename-Command">constant_pool[]</KBD> array of the Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>). The <KBD CLASS="Filename-Command">constant_pool[]</KBD> entry at that index must be a <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure, representing the class of the exception caught by this <KBD CLASS="Filename-Command">exception_handlers</KBD> array entry.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7609"></A>If the <KBD CLASS="Filename-Command">exception_handlers</KBD> table entry represents a finally block, the value of the <KBD CLASS="Filename-Command">catch_type_index</KBD> item is zero. In this case the exception handler is called for all exceptions that are thrown within the <KBD CLASS="Filename-Command">start_offset</KBD> and <KBD CLASS="Filename-Command">end_offset</KBD> range.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46285"></A>The order of constants in the constant pool is constrained such that all entries referenced by <KBD CLASS="Filename-Command">catch_type_index</KBD> items that represent catch block (not finally blocks) are located at non-zero entries.
</P><H3 CLASS="Head2"><A NAME="pgfId-7611"></A>6.9.2	method_info<A NAME="marker-54613"></A></H3>
<P CLASS="Paragraph"><A NAME="pgfId-15703"></A>The <KBD CLASS="Filename-Command">method_info</KBD> structure is defined as follows:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1015231"></A>method_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015233"></A>     method_header_info method_header
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015235"></A>     u1 bytecodes[]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015237"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-1011464"></A>The items in the <KBD CLASS="Filename-Command">method_info</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7619"></A><KBD CLASS="Filename-Command">method_header</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7620"></A>The <KBD CLASS="Filename-Command">method_header</KBD> item represents either a <KBD CLASS="Filename-Command">method_header_info</KBD> or an <KBD CLASS="Filename-Command">extended_method_header_info</KBD> structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1015441"></A>   method_header_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015443"></A>         u1 bitfield {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015445"></A>             bit[4] flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015447"></A>             bit[4] max_stack
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015449"></A>        }
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015451"></A>        u1 bitfield {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015453"></A>             bit[4] nargs
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015455"></A>             bit[4] max_locals
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015457"></A>        }
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015459"></A>   }
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015461"></A>&nbsp;
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015463"></A>   extended_method_header_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015465"></A>         u1 bitfield {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015467"></A>              bit[4] flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015469"></A>              bit[4] padding
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015471"></A>         }
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015473"></A>         u1 max_stack
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015475"></A>         u1 nargs
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015477"></A>         u1 max_locals
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015479"></A>   }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7642"></A>The items of the <KBD CLASS="Filename-Command">method_header_info</KBD> and <KBD CLASS="Filename-Command">extended_method_header_info</KBD> structures are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7643"></A><KBD CLASS="Filename-Command">flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7644"></A>The <KBD CLASS="Filename-Command">flags</KBD> item is a mask of modifiers defined for this method. Valid <KBD CLASS="Filename-Command">flag</KBD> values are shown in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000082"> </A> TABLE 6-13 	CAP File Method Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40243"></A>Flags
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40245"></A>Values
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40247"></A>ACC_EXTENDED
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40249"></A>0x8
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40251"></A>ACC_ABSTRACT
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40253"></A>0x4
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-18068"></A>The value of the <KBD CLASS="Filename-Command">ACC_EXTENDED</KBD> flag must be one if the method_header is represented by an <KBD CLASS="Filename-Command">extended_method_header_info</KBD> structure. Otherwise the value must be zero.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7660"></A>The value of the <KBD CLASS="Filename-Command">ACC_ABSTRACT</KBD> flag must be one if this method is defined as abstract. In this case the bytecodes array must be empty. If this method is not abstract the value of the <KBD CLASS="Filename-Command">ACC_ABSTRACT</KBD> flag must be zero.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7661"></A>All other flag values are reserved. Their values must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7662"></A><KBD CLASS="Filename-Command">padding</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7663"></A>The <KBD CLASS="Filename-Command">padding</KBD> item has the value of zero. This item is only defined for the <KBD CLASS="Filename-Command">extended_method_header_info</KBD> structure.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7664"></A><KBD CLASS="Filename-Command">max_stack</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7665"></A>The <KBD CLASS="Filename-Command">max_stack</KBD> item indicates the maximum number of 16-bit cells required on the operand stack during execution of this method.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7666"></A>Stack entries of type int are represented in two 16-bit cells, while all others are represented in one 16-bit cell.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7667"></A><KBD CLASS="Filename-Command">nargs</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7668"></A>The <KBD CLASS="Filename-Command">nargs</KBD> item indicates the number of 16-bit cells required to represent the parameters passed to this method, including the <KBD CLASS="Filename-Command">this</KBD> pointer if this method is a virtual method.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7669"></A>Parameters of type int are represented in two 16-bit cells, while all others are represented in one 16-bit cell.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7670"></A><KBD CLASS="Filename-Command">max_locals</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7671"></A>The <KBD CLASS="Filename-Command">max_locals</KBD> item indicates the number of 16-bit cells required to represent the local variables declared by this method, not including the parameters passed to this method on invocation.<A NAME="fnote8"></A><A HREF="#pgfId-23909"  CLASS="footnote"><SUP>[8]</SUP></A>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7672"></A>Local variables of type <KBD CLASS="Filename-Command">int</KBD> are represented in two 16-bit cells, while all others are represented in one 16-bit cell. If an entry in the local variables array of the stack frame is reused to store more than one local variable (for example, local variables from separate scopes), the number of cells required for storage is two if one or more of the local variables is of type <KBD CLASS="Filename-Command">int</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7673"></A><KBD CLASS="Filename-Command">bytecodes[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24004"></A>The <KBD CLASS="Filename-Command">bytecodes</KBD> item represents an array of Java Card bytecodes that implement this method. Valid instructions are defined in <A HREF="JCVM07instr.html#83338" CLASS="XRef">Chapter 7</A>, &quot;Java Card Virtual Machine Instruction Set.&quot; The <KBD CLASS="Filename-Command">impdep1</KBD> and <KBD CLASS="Filename-Command">impdep2</KBD> bytecodes cannot be present in the bytecodes array item.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-24008"></A>If this method is abstract the <KBD CLASS="Filename-Command">bytecodes</KBD> item must contain zero elements.
</P><H2 CLASS="Head1"><A NAME="pgfId-46638"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.10	<A NAME="40036"></A>Static Field Component<A NAME="marker-54614"></A></H2>
<P CLASS="Paragraph"><A NAME="pgfId-46650"></A>The Static Field Component contains all of the information required to create and initialize an image of all of the static fields defined in this package, referred to as the static field image<A NAME="marker-54615"></A>. Offsets to particular static fields are offsets into the static field image, not the Static Field Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-46653"></A>Final static fields of primitive types are not represented in the static field image. Instead these compile-time constants must be placed in line in Java Card technology-based instructions (&quot;Java Card instructions&quot;).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-46678"></A>The Static Field Component includes all information required to initialize classes. In the Java virtual machine a class is initialized by executing its <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> method. In the Java Card virtual machine the functionality of <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods is represented in the Static Field Component as array initialization data and non-default values of primitive types data. <A HREF="JCVM02lang.html#57798" CLASS="XRef">Section 2.2.4.6, Class Initialization</A> contains a description of the subset of <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> functionality supported in the Java Card virtual machine.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-1010974"></A>The Static Field Component does not reference any other component in this CAP file. The Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>), Export Component (<A HREF="JCVM06cap.html#Export Component" CLASS="XRef">Section 6.12, Export Component</A>), Descriptor Component (<A HREF="JCVM06cap.html#34818" CLASS="XRef">Section 6.13, Descriptor Component</A>), and Debug Component (<A HREF="JCVM06cap.html#26211" CLASS="XRef">Section 6.14, Debug Component</A>) reference fields in the static field image defined by the Static Field Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-19509"></A>The ordering constraints, or segments, associated with a static field image are shown in <A HREF="JCVM06cap.html#95112" CLASS="XRef">TABLE 6-14</A>. Reference types occur first in the image. Arrays initialized through Java <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods occur first within the set of reference types. Primitive types occur last in the image, and primitive types initialized to non-default values occur last within the set of primitive types.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-999989"> </A> TABLE 6-14 	 <A NAME="95112"> </A> Segments of a Static Field Image </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-1002408"></A>category
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-1002410"></A>segment
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-1002412"></A>content
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19518"></A><KBD CLASS="Filename-Command">reference</KBD> types
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19520"></A>1
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19522"></A>arrays of primitive types initialized by <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19526"></A>2
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19528"></A><KBD CLASS="Filename-Command">reference</KBD> types initialized to <KBD CLASS="Filename-Command">null,</KBD> including arrays
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="2" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19530"></A>primitive types
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19532"></A>3
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19534"></A>primitive types initialized to default values
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19538"></A>4
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-19540"></A>primitive types initialized to non-default values
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-7696"></A>The number of bytes used to represent each field type in the static field image is shown in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-999995"> </A> TABLE 6-15 	 <A NAME="Static Field Sizes"> </A> Static Field Sizes </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40172"></A>Type
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40174"></A>Bytes
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40176"></A>boolean
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40178"></A>1
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40180"></A>byte
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40182"></A>1
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40184"></A>short
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40186"></A>2
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40188"></A>int
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40190"></A>4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40192"></A>reference, including arrays
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40194"></A>2
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-15898"></A>The <KBD CLASS="Filename-Command">static_field_component</KBD> structure is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1015595"></A>static_field_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015597"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015599"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015601"></A>     u2 image_size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015603"></A>     u2 reference_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015605"></A>     u2 array_init_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015607"></A>     array_init_info array_init[array_init_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015609"></A>     u2 default_value_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015611"></A>     u2 non_default_value_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015613"></A>     u1 non_default_values[non_default_values_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015615"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7737"></A>The items in the <KBD CLASS="Filename-Command">static_field_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7738"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7739"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">COMPONENT_StaticField</KBD> (8).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7740"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7741"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">static_field_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7742"></A><KBD CLASS="Filename-Command">image_size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7743"></A>The <KBD CLASS="Filename-Command">image_size</KBD> item indicates the number of bytes required to represent the static fields defined in this package, excluding final static fields of primitive types. This value is the number of bytes in the static field image. The number of bytes required to represent each field type is shown in <A HREF="JCVM06cap.html#Static Field Sizes" CLASS="XRef">TABLE 6-15</A>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9793"></A>The value of the <KBD CLASS="Filename-Command">image_size</KBD> item does not include the number of bytes require to represent the initial values of array instances enumerated in the Static Field Component.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46323"></A>The value of the <KBD CLASS="Filename-Command">image_size</KBD> is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1015739"></A>  image_size = 
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015741"></A>  reference_count *  2  + 
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015743"></A>  default_value_count  + 
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015745"></A>  non_default_value_count.
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-46324"></A><KBD CLASS="Filename-Command">reference_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7745"></A>The <KBD CLASS="Filename-Command">reference_count</KBD> item indicates the number of reference type static fields defined in this package. This is the number of fields represented in segments 1 and 2 of the static field image as described in <A HREF="JCVM06cap.html#95112" CLASS="XRef">TABLE 6-14</A>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18373"></A>The value of the <KBD CLASS="Filename-Command">reference_count</KBD> item may be 0 if no reference type fields are defined in this package. Otherwise it must be equal to the number of reference type fields defined.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7746"></A><KBD CLASS="Filename-Command">array_init_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7747"></A>The <KBD CLASS="Filename-Command">array_init_count</KBD> item indicates the number of elements in the <KBD CLASS="Filename-Command">array_init</KBD> array. This is the number of fields represented in segment 1 of the static field image as described in <A HREF="JCVM06cap.html#95112" CLASS="XRef">TABLE 6-14</A>. It represents the number of arrays initialized in all of the <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods in this package.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18178"></A>If this CAP file defines a library package the value of <KBD CLASS="Filename-Command">array_init_count</KBD> must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7748"></A><KBD CLASS="Filename-Command">array_init[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7749"></A>The <KBD CLASS="Filename-Command">array_init</KBD> item represents an array of <KBD CLASS="Filename-Command">array_init_info</KBD> structures that specify the initial array values of static fields of arrays of primitive types. These initial values are indicated in Java <KBD CLASS="Filename-Command">&lt;clinit&gt;</KBD> methods. The <KBD CLASS="Filename-Command">array_init_info</KBD> structure is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1015800"></A>  array_init_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015802"></A>        u1 type
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015804"></A>        u2 count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015806"></A>        u1 values[count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015808"></A>  }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-18190"></A>The items in the <KBD CLASS="Filename-Command">array_init_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18197"></A><KBD CLASS="Filename-Command">  type</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-18198"></A>The <KBD CLASS="Filename-Command">type</KBD> item indicates the type of the primitive array. Valid values are shown in the following table<STRONG>.</STRONG>
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000332"> </A> TABLE 6-16 	Array Types </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40347"></A>Type
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40349"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40351"></A>boolean
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40353"></A>2
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40355"></A>byte
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40357"></A>3
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40359"></A>short
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40361"></A>4
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40363"></A>int
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40365"></A>5
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-18202"></A><KBD CLASS="Filename-Command">  count</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-18203"></A>The <KBD CLASS="Filename-Command">count</KBD> item indicates the number of bytes in the values array. It does not represent the number of elements in the static field array (referred to as <EM CLASS="Emphasis">length</EM> in the Java programming language), since the values array is an array of bytes and the static field array may be a non-byte type. The Java programming language length of the static field array is equal to the count item divided by the number of bytes required to represent the static field type (<A HREF="JCVM06cap.html#Static Field Sizes" CLASS="XRef">TABLE 6-15</A>) indicated by the type item.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18207"></A><KBD CLASS="Filename-Command">  values</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-24113"></A>The <KBD CLASS="Filename-Command">values</KBD> item represents a byte array containing the initial values of the static field array. The number of entries in the <KBD CLASS="Filename-Command">values</KBD> array is equal to the size in bytes of the type indicated by the <KBD CLASS="Filename-Command">type</KBD> item. The size in bytes of each type is shown in <A HREF="JCVM06cap.html#Static Field Sizes" CLASS="XRef">TABLE 6-15</A>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-24117"></A><KBD CLASS="Filename-Command">default_value_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7785"></A>The <KBD CLASS="Filename-Command">default_value_count</KBD> item indicates the number of bytes required to initialize the set of static fields represented in segment 3 of the static field image as described in <A HREF="JCVM06cap.html#95112" CLASS="XRef">TABLE 6-14</A>. These static fields are primitive types initialized to default values. The number of bytes required to initialize each static field type is equal to the size in bytes of the type as shown in <A HREF="JCVM06cap.html#Static Field Sizes" CLASS="XRef">TABLE 6-15</A>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7789"></A><KBD CLASS="Filename-Command">non_default_value_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7790"></A>The <KBD CLASS="Filename-Command">non_default_value_count</KBD> item represents the number bytes in the <KBD CLASS="Filename-Command">non_default_values</KBD> array. This value is equal to the number of bytes in segment 4 of the static field image as described in <A HREF="JCVM06cap.html#95112" CLASS="XRef">TABLE 6-14</A>. These static fields are primitive types initialized to non-default values.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7792"></A><KBD CLASS="Filename-Command">non_default_values[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7793"></A>The <KBD CLASS="Filename-Command">non_default_values</KBD> item represents an array of bytes of non-default initial values. This is the exact image of segment 4 of the static field image as described in <A HREF="JCVM06cap.html#95112" CLASS="XRef">TABLE 6-14</A>. The number of entries in the <KBD CLASS="Filename-Command">non_default_values</KBD> array for each static field type is equal to the size in bytes of the type as shown in <A HREF="JCVM06cap.html#Static Field Sizes" CLASS="XRef">TABLE 6-15</A>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46131"></A>The value of a <KBD CLASS="Filename-Command">boolean</KBD> type is <KBD CLASS="Filename-Command">1</KBD> to represent true and <KBD CLASS="Filename-Command">0</KBD> to represent false.
</P><H2 CLASS="Head1"><A NAME="pgfId-7797"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.11	<A NAME="34404"></A>Reference Location <A NAME="marker-54616"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-7798"></A>The Reference Location Component represents lists of offsets into the info item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) to items that contain indices into the <KBD CLASS="Filename-Command">constant_pool[]</KBD> array of the Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>). This includes all constant pool index operands of instructions, and all non-zero <KBD CLASS="Filename-Command">catch_type_index</KBD> items of the <KBD CLASS="Filename-Command">exception_handlers</KBD> array. The <KBD CLASS="Filename-Command">catch_type_index</KBD> items that have the value of 0 are not included since they represent finally blocks instead of particular exception classes.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-46288"></A>Some of the constant pool indices are represented in one-byte values while others are represented in two-byte values. Operands of <KBD CLASS="Filename-Command">getfield_T</KBD> and <KBD CLASS="Filename-Command">putfield_T</KBD> instructions are one-byte constant pool indices. All other indices in a Method Component are two-byte values.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18441"></A>The Reference Location Component is not referenced by any other component in this CAP file.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18444"></A>The Reference Location Component structure is defined as:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1015889"></A>reference_location_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015891"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015893"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015895"></A>     u2 byte_index_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015897"></A>     u1 offsets_to_byte_indices[byte_index_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015899"></A>     u2 byte2_index_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015953"></A>     u1 offsets_to_byte2_indices[byte2_index_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1015951"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7808"></A>The items of the <KBD CLASS="Filename-Command">reference_location_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7809"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7810"></A>The tag item has the value <KBD CLASS="Filename-Command">COMPONENT_ReferenceLocation</KBD> (9).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7811"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7812"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">reference_location_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7813"></A><KBD CLASS="Filename-Command">byte_index_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7814"></A>The <KBD CLASS="Filename-Command">byte_index_count</KBD> item represents the number of elements in the <KBD CLASS="Filename-Command">offsets_to_byte_indices</KBD> array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7817"></A><KBD CLASS="Filename-Command">offsets_to_byte_indices[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18460"></A>The <KBD CLASS="Filename-Command">offsets_to_byte_indices</KBD> item represents an array of 1-byte jump offsets into the <KBD CLASS="Filename-Command">info</KBD> item of the Method Component to each 1-byte <KBD CLASS="Filename-Command">constant_pool[]</KBD> array index. Each entry represents the number of bytes (or distance) between the current index to the next. If the distance is greater than or equal to 255 then there are <I CLASS="Variable">n</I> entries equal to 255 in the array, where <I CLASS="Variable">n</I> is equal to the distance divided by 255. The <I CLASS="Variable">nth</I> entry of 255 is followed by an entry containing the value of the distance modulo 255.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18528"></A>An example of the jump offsets in an <KBD CLASS="Filename-Command">offsets_to_byte_indices</KBD> array is shown in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000094"> </A> TABLE 6-17 	 <A NAME="96742"> </A> One-byte Reference Location Example </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-41667"></A>Instruction
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-41669"></A>Offset to Operand
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-41671"></A>Jump Offset
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41673"></A><KBD CLASS="Filename-Command">getfield_a 0</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41675"></A><KBD CLASS="Filename-Command">10</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41677"></A><KBD CLASS="Filename-Command">10</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41679"></A><KBD CLASS="Filename-Command">putfield_b 2</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41681"></A><KBD CLASS="Filename-Command">65</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41683"></A><KBD CLASS="Filename-Command">55</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41685"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41687"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41689"></A><KBD CLASS="Filename-Command">255</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41691"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41693"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41695"></A><KBD CLASS="Filename-Command">255</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41697"></A><KBD CLASS="Filename-Command">getfield_s 1</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41699"></A><KBD CLASS="Filename-Command">580</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41701"></A><KBD CLASS="Filename-Command">5</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41703"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41705"></A>&nbsp;
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41707"></A><KBD CLASS="Filename-Command">255</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41709"></A><KBD CLASS="Filename-Command">putfield_a 0</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41711"></A><KBD CLASS="Filename-Command">835</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41713"></A><KBD CLASS="Filename-Command">0</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41715"></A><KBD CLASS="Filename-Command">getfield_i 3</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41717"></A><KBD CLASS="Filename-Command">843</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-41719"></A><KBD CLASS="Filename-Command">8</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-15249"></A>All 1-byte <KBD CLASS="Filename-Command">constant_pool[]</KBD> array indices in the Method Component must be represented in <KBD CLASS="Filename-Command">offsets_to_byte_indices</KBD> array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-9690"></A><KBD CLASS="Filename-Command">byte2_index_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-9691"></A>The <KBD CLASS="Filename-Command">byte2_index_count</KBD> item represents the number of elements in the <KBD CLASS="Filename-Command">offsets_to_byte2_indices</KBD> array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7820"></A><KBD CLASS="Filename-Command">offsets_to_byte2_indices[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7821"></A>The <KBD CLASS="Filename-Command">offsets_to_byte2_indices</KBD> item represents an array of 1-byte jump offsets into the info item of the Method Component to each 2-byte <KBD CLASS="Filename-Command">constant_pool[]</KBD> array index. Each entry represents the number of bytes (or distance) between the current index to the next. If the distance is greater than or equal to 255 then there are <I CLASS="Variable">n</I> entries equal to 255 in the array, where <I CLASS="Variable">n</I> is equal to the distance divided by 255. The <I CLASS="Variable">nth</I> entry of 255 is followed by an entry containing the value of the distance modulo 255.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-15395"></A>An example of the jump offsets in an <KBD CLASS="Filename-Command">offsets_to_byte_indices</KBD> array is shown in <A HREF="JCVM06cap.html#96742" CLASS="XRef">TABLE 6-17</A>. The same example applies to the <KBD CLASS="Filename-Command">offsets_to_byte2_indices</KBD> array if the instructions are changed to those with 2-byte <KBD CLASS="Filename-Command">constant_pool[]</KBD> array indices.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7822"></A>All 2-byte <KBD CLASS="Filename-Command">constant_pool[]</KBD> array indices in the Method Component must be represented in <KBD CLASS="Filename-Command">offsets_to_byte2_indices</KBD> array, including those represented in <KBD CLASS="Filename-Command">catch_type_index</KBD> items of the <KBD CLASS="Filename-Command">exception_handler_info</KBD> array.
</P><H2 CLASS="Head1"><A NAME="pgfId-7823"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.12	<A NAME="Export Component"></A>Export Component<A NAME="marker-54617"></A></H2>
<P CLASS="Paragraph"><A NAME="pgfId-18668"></A>The Export Component lists all static elements in this package that may be imported by classes in other packages. Instance fields and virtual methods are not represented in the Export Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-45158"></A>If this CAP file does not include an Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>), the Export Component contains an entry for each public class and public interface defined in this package. Furthermore, for each public class there is an entry for each public or protected static field defined in that class, for each public or protected static method defined in that class, and for each public or protected constructor defined in that class. Final static fields of primitive types (compile-time constants) are not included.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18556"></A>If this CAP file includes an Applet Component (<A HREF="JCVM06cap.html#Applet Component" CLASS="XRef">Section 6.5, Applet Component</A>), the Export Component includes entries only for all public interfaces that are shareable.<A NAME="fnote9"></A><A HREF="#pgfId-24600"  CLASS="footnote"><SUP>[9]</SUP></A> An interface is shareable if and only if it is the <KBD CLASS="Filename-Command">javacard.framework.Shareable</KBD> interface or implements (directly or indirectly) that interface.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18663"></A>Elements in the Export Component reference elements in the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>), Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>), and Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). No other component in this CAP file references the Export Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18563"></A>The Export Component is represented by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1016018"></A>export_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016020"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016022"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016024"></A>     u1 class_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016026"></A>     class_export_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016028"></A>          u2 class_offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016030"></A>          u1 static_field_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016032"></A>          u1 static_method_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016034"></A>          u2 static_field_offsets[static_field_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016036"></A>          u2 static_method_offsets[static_method_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016038"></A>     } class_exports[class_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016040"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7839"></A>The items of the export_component structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7840"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7841"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">COMPONENT_Export</KBD> (10).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7842"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7843"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">export_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7844"></A><KBD CLASS="Filename-Command">class_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7845"></A>The <KBD CLASS="Filename-Command">class_count</KBD> item represents the number of entries in the <KBD CLASS="Filename-Command">class_exports</KBD> table. The value of the <KBD CLASS="Filename-Command">class_count</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7846"></A><KBD CLASS="Filename-Command">class_exports[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7847"></A>The <KBD CLASS="Filename-Command">class_exports</KBD> item represents a variable-length table of <KBD CLASS="Filename-Command">class_export_info</KBD> structures. If this package is a library package, the table contains an entry for each of the public classes and public interfaces defined in this package. If this package is an applet package, the table contains an entry for each of the public shareable interfaces defined in this package.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18585"></A>An index into the table to a particular class or interface is equal to the token value of that class or interface (<A HREF="JCVM04naming.html#14497" CLASS="XRef">Section 4.3.7.2, Classes and Interfaces</A>). The token value is published in the Export file (<A HREF="JCVM05export.html#31663" CLASS="XRef">Section 5.7, Classes and Interfaces</A>) of this package.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7848"></A>The items in the <KBD CLASS="Filename-Command">class_export_info</KBD> structure are:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7849"></A><KBD CLASS="Filename-Command">  class_offset</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7850"></A>The <KBD CLASS="Filename-Command">class_offset</KBD> item represents a byte offset into the info item of the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>). If this package defines a library package, the item at that offset must be either an <KBD CLASS="Filename-Command">interface_info</KBD> or a <KBD CLASS="Filename-Command">class_info</KBD> structure. The <KBD CLASS="Filename-Command">interface_info</KBD> or <KBD CLASS="Filename-Command">class_info</KBD> structure at that offset must represent the exported class or interface.
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-18689"></A>If this package defines an applet package, the item at the <KBD CLASS="Filename-Command">class_offset</KBD> in the info item of the Class Component must be an <KBD CLASS="Filename-Command">interface_info</KBD> structure. The <KBD CLASS="Filename-Command">interface_info</KBD> structure at that offset must represent the exported, shareable interface. In particular, the <KBD CLASS="Filename-Command">ACC_SHAREABLE</KBD> flag of the <KBD CLASS="Filename-Command">interface_info</KBD> structure must be equal to 1.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7851"></A><KBD CLASS="Filename-Command">  static_field_count</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7852"></A>The <KBD CLASS="Filename-Command">static_field_count</KBD> item represents the number of elements in the <KBD CLASS="Filename-Command">static_field_offsets</KBD> array. This value indicates the number of public and protected static fields defined in this class, excluding final static fields of primitive types.
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-18676"></A>If the <KBD CLASS="Filename-Command">class_offset</KBD> item represents an offset to an <KBD CLASS="Filename-Command">interface_info</KBD> structure, the value of the <KBD CLASS="Filename-Command">static_field_count</KBD> item must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7853"></A><KBD CLASS="Filename-Command">  static_method_count</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7854"></A>The <KBD CLASS="Filename-Command">static_method_count</KBD> item represents the number of elements in the static_method_offsets array. This value indicates the number of public and protected static methods and constructors defined in this class.
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-18721"></A>If the <KBD CLASS="Filename-Command">class_offset</KBD> item represents an offset to an <KBD CLASS="Filename-Command">interface_info</KBD> structure, the value of the <KBD CLASS="Filename-Command">static_method_count</KBD> item must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7855"></A><KBD CLASS="Filename-Command">  static_field_offsets[]</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7856"></A>The <KBD CLASS="Filename-Command">static_field_offsets</KBD> item represents an array of 2-byte offsets into the static field image defined by the Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). Each offset must be to the beginning of the representation of the exported static field.
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-18730"></A>An index into the <KBD CLASS="Filename-Command">static_field_offsets</KBD> array must be equal to the token value of the field represented by that entry. The token value is published in the Export file (<A HREF="JCVM05export.html#10802" CLASS="XRef">Section 5.9, Methods</A>) of this package.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7857"></A><KBD CLASS="Filename-Command">  static_method_offsets[]</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-7858"></A>The <KBD CLASS="Filename-Command">static_method_offsets</KBD> item represents a table of 2-byte offsets into the info item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>). Each offset must be to the beginning of a <KBD CLASS="Filename-Command">method_info</KBD> structure. The <KBD CLASS="Filename-Command">method_info</KBD> structure must represent the exported static method or constructor.
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-18742"></A>An index into the <KBD CLASS="Filename-Command">static_method_offsets</KBD> array must be equal to the token value of the method represented by that entry.
</P><H2 CLASS="Head1"><A NAME="pgfId-7859"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.13	<A NAME="34818"></A>Descriptor <A NAME="marker-54618"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-44587"></A>The Descriptor Component provides sufficient information to parse and verify all elements of the CAP file. It references, and therefore describes, elements in the Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>), Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>), Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>), and Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). No components in the CAP file reference the Descriptor Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18771"></A>The Descriptor Component is represented by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1016184"></A>descriptor_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016186"></A>     u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016188"></A>     u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016190"></A>     u1 class_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016192"></A>     class_descriptor_info classes[class_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016194"></A>     type_descriptor_info types
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016196"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7869"></A>The items of the <KBD CLASS="Filename-Command">descriptor_component</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7870"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7871"></A>The <KBD CLASS="Filename-Command">tag</KBD> item has the value <KBD CLASS="Filename-Command">COMPONENT_Descriptor</KBD> (11).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7872"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-16741"></A>The <KBD CLASS="Filename-Command">size</KBD> item indicates the number of bytes in the <KBD CLASS="Filename-Command">descriptor_component</KBD> structure, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of the <KBD CLASS="Filename-Command">size</KBD> item must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7874"></A><KBD CLASS="Filename-Command">class_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7875"></A>The <KBD CLASS="Filename-Command">class_count</KBD> item represents the number of entries in the classes table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7876"></A><KBD CLASS="Filename-Command">classes[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7877"></A>The <KBD CLASS="Filename-Command">classes</KBD> item represents a table of variable-length <KBD CLASS="Filename-Command">class_descriptor_info</KBD> structures. Each class and interface defined in this package is represented in the table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7878"></A><KBD CLASS="Filename-Command">types</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7879"></A>The <KBD CLASS="Filename-Command">types</KBD> item represents a <KBD CLASS="Filename-Command">type_descriptor_info</KBD> structure. This structure lists the set of field types and method signatures of the fields and methods defined or referenced in this package. Those referenced are enumerated in the Constant Pool Component.
</P><H3 CLASS="Head2"><A NAME="pgfId-7881"></A>6.13.1	<A NAME="marker-54619"></A>class_descriptor_info</H3>
<P CLASS="Paragraph"><A NAME="pgfId-7882"></A>The <KBD CLASS="Filename-Command">class_descriptor_info</KBD> structure is used to describe a class or interface defined in this package:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1016291"></A>class_descriptor_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016293"></A>     u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016295"></A>     u1 access_flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016297"></A>     class_ref this_class_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016299"></A>     u1 interface_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016301"></A>     u2 field_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016303"></A>     u2 method_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016305"></A>     class_ref interfaces [interface_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016307"></A>     field_descriptor_info fields[field_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016309"></A>     method_descriptor_info methods[method_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016311"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7895"></A>The items of the <KBD CLASS="Filename-Command">class_descriptor_info</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7896"></A><KBD CLASS="Filename-Command">token</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7897"></A>The <KBD CLASS="Filename-Command">token</KBD> item represents the class token (<A HREF="JCVM04naming.html#14497" CLASS="XRef">Section 4.3.7.2, Classes and Interfaces</A>) of this class or interface. If this class or interface is package-visible it does not have a token assigned. In this case the value of the token item must be <KBD CLASS="Filename-Command">0xFF</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7898"></A><KBD CLASS="Filename-Command">access_flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7899"></A>The <KBD CLASS="Filename-Command">access_flags</KBD> item is a mask of modifiers used to describe the access permission to and properties of this class or interface. The <KBD CLASS="Filename-Command">access_flags</KBD> modifiers for classes and interfaces are shown in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000086"> </A> TABLE 6-18 	CAP File Class Descriptor Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40409"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40411"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40413"></A>ACC_PUBLIC
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40415"></A>0x01
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40417"></A>ACC_FINAL
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40419"></A>0x10
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40421"></A>ACC_INTERFACE
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40423"></A>0x40
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40425"></A>ACC_ABSTRACT
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40427"></A>0x80
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-18793"></A>The class access and modifier flags defined in the table above are a subset of those defined for classes and interfaces in a Java class file. They have the same meaning, and are set under the same conditions, as the corresponding flags in a Java class file.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18794"></A>All other flag values are reserved. Their values must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7923"></A><KBD CLASS="Filename-Command">this_class_ref</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7924"></A>The <KBD CLASS="Filename-Command">this_class_ref</KBD> item is a <KBD CLASS="Filename-Command">class_ref</KBD> structure indicating the location of the <KBD CLASS="Filename-Command">class_info</KBD> structure in the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>). The class_ref structure is defined as part of the <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure (<A HREF="JCVM06cap.html#39801" CLASS="XRef">Section 6.7.1, CONSTANT_Classref</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7931"></A><KBD CLASS="Filename-Command">interface_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7932"></A>The <KBD CLASS="Filename-Command">interface_count</KBD> item represents the number of entries in the interfaces array. For an interface, <KBD CLASS="Filename-Command">interface_count</KBD> is always set to zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18868"></A><KBD CLASS="Filename-Command">field_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18869"></A>The <KBD CLASS="Filename-Command">field_count</KBD> item represents the number of entries in the fields array. If this <KBD CLASS="Filename-Command">class_descriptor_info</KBD> structure represents an interface, the value of the <KBD CLASS="Filename-Command">field_count</KBD> item is equal to zero.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-46344"></A>Static final fields of primitive types are not represented as fields in a CAP file, but instead these compile-time constants are placed inline in bytecode sequences. The <KBD CLASS="Filename-Command">field_count</KBD> item does not include static final field of primitive types defined by this class.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-18870"></A><KBD CLASS="Filename-Command">method_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7936"></A>The <KBD CLASS="Filename-Command">method_count</KBD> item represents the number of entries in the <KBD CLASS="Filename-Command">methods</KBD> array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7937"></A><KBD CLASS="Filename-Command">interfaces[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1002731"></A>The <KBD CLASS="Filename-Command">interfaces</KBD> item represents an array of interfaces implemented by this class. The elements in the array are <KBD CLASS="Filename-Command">class_ref</KBD> structures indicating the location of the <KBD CLASS="Filename-Command">interface_info</KBD> structure in the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>). The class_ref structure is defined as part of the <KBD CLASS="Filename-Command">CONSTANT_Classref_info</KBD> structure (<A HREF="JCVM06cap.html#39801" CLASS="XRef">Section 6.7.1, CONSTANT_Classref</A>). 
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8822"></A><KBD CLASS="Filename-Command">fields[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7946"></A>The <KBD CLASS="Filename-Command">fields</KBD> item represents an array of <KBD CLASS="Filename-Command">field_descriptor_info</KBD> structures. Each field declared by this class is represented in the array, except static final fields of primitive types. Inherited fields are not included in the array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7947"></A><KBD CLASS="Filename-Command">methods[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7948"></A>The <KBD CLASS="Filename-Command">methods</KBD> item represents an array of <KBD CLASS="Filename-Command">method_descriptor_info</KBD> structures. Each method declared or defined by this class or interface is represented in the array. For a class, inherited methods are not included in the array. For an interface, inherited methods are included in the array.
</P><H3 CLASS="Head2"><A NAME="pgfId-7949"></A>6.13.2	field_descriptor_info<A NAME="marker-54620"></A></H3>
<P CLASS="Paragraph"><A NAME="pgfId-7950"></A>The <KBD CLASS="Filename-Command">field_descriptor_info</KBD> structure is used to describe a field defined in this package:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1016453"></A>field_descriptor_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016455"></A>     u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016457"></A>     u1 access_flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016459"></A>     union {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016461"></A>          static_field_ref static_field
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016463"></A>         {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016465"></A>            class_ref class
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016467"></A>            u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016469"></A>          } instance_field
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016471"></A>     } field_ref
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016473"></A>     union {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016475"></A>            u2 primitive_type
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016644"></A>            u2 reference_type
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016642"></A>     } type
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016640"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-7964"></A>The items of the <KBD CLASS="Filename-Command">field_descriptor_info</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7965"></A><KBD CLASS="Filename-Command">token</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7966"></A>The <KBD CLASS="Filename-Command">token</KBD> item represents the token of this field. If this field is private or package-visible static field it does not have a token assigned. In this case the value of the token item must be <KBD CLASS="Filename-Command">0xFF</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7967"></A><KBD CLASS="Filename-Command">access_flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7968"></A>The <KBD CLASS="Filename-Command">access_flags</KBD> item is a mask of modifiers used to describe the access permission to and properties of this field. The <KBD CLASS="Filename-Command">access_flags</KBD> modifiers for fields are shown in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000078"> </A> TABLE 6-19 	CAP File Field Descriptor Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40487"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40489"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40491"></A>ACC_PUBLIC
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40493"></A>0x01
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40495"></A>ACC_PRIVATE
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40497"></A>0x02
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40499"></A>ACC_PROTECTED
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40501"></A>0x04
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40503"></A>ACC_STATIC
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40505"></A>0x08
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40507"></A>ACC_FINAL
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40509"></A>0x10
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-18814"></A>The field access and modifier flags defined in the table above are a subset of those defined for fields in a Java class file. They have the same meaning, and are set under the same conditions, as the corresponding flags in a Java class file.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7996"></A>All other flag values are reserved. Their values must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-7997"></A><KBD CLASS="Filename-Command">field_ref</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-7998"></A>The <KBD CLASS="Filename-Command">field_ref</KBD> item represents a reference to this field. If the <KBD CLASS="Filename-Command">ACC_STATIC</KBD> flag is equal to 1, this item represents a static_field_ref as defined in the <KBD CLASS="Filename-Command">CONSTANT_StaticFieldref</KBD> structure (<A HREF="JCVM06cap.html#21307" CLASS="XRef">Section 6.7.3, CONSTANT_StaticFieldref and CONSTANT_StaticMethodref</A>).
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18854"></A>If the <KBD CLASS="Filename-Command">ACC_STATIC</KBD> flag is equal to 0, this item represents a reference to an instance field. It contains a <KBD CLASS="Filename-Command">class_ref</KBD> item and an instance field token item. These items are defined in the same manner as in the <KBD CLASS="Filename-Command">CONSTANT_InstanceFieldref</KBD> structure (<A HREF="JCVM06cap.html#15653" CLASS="XRef">Section 6.7.2, CONSTANT_InstanceFieldref, CONSTANT_VirtualMethodref, and CONSTANT_SuperMethodref</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8005"></A><KBD CLASS="Filename-Command">type</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8006"></A>The <KBD CLASS="Filename-Command">type</KBD> item indicates the type of this field. directly or indirectly. If this field is a primitive type (<KBD CLASS="Filename-Command">boolean</KBD>, <KBD CLASS="Filename-Command">byte</KBD>, <KBD CLASS="Filename-Command">short</KBD>, or <KBD CLASS="Filename-Command">int</KBD>) the high bit of this item is equal to 1, otherwise the high bit of this item is equal to 0.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-19088"></A><KBD CLASS="Filename-Command">  primitive_type</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-19089"></A>The <KBD CLASS="Filename-Command">primitive_type</KBD> item represents the type of this field using the values in the table below. As noted above, the high bit of the <KBD CLASS="Filename-Command">primitive_type</KBD> item is equal to 1.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000336"> </A> TABLE 6-20 	Primitive Type Descriptor Values </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40043"></A>Data Type
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-40045"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40047"></A><KBD CLASS="Filename-Command">boolean</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40049"></A><KBD CLASS="Filename-Command">0x0002</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40051"></A><KBD CLASS="Filename-Command">byte</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40053"></A><KBD CLASS="Filename-Command">0x0003</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40055"></A><KBD CLASS="Filename-Command">short</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40057"></A><KBD CLASS="Filename-Command">0x0004</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40059"></A><KBD CLASS="Filename-Command">int</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-40061"></A><KBD CLASS="Filename-Command">0x0005</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="Paragraph"><A NAME="pgfId-19131"></A><KBD CLASS="Filename-Command">  reference_type</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-19132"></A>The <KBD CLASS="Filename-Command">reference_type</KBD> item represents a 15-bit offset into the <KBD CLASS="Filename-Command">type_descriptor_info</KBD> structure. The item at the offset must represent the <KBD CLASS="Filename-Command">reference</KBD> type of this field. As noted above, the high bit of the <KBD CLASS="Filename-Command">reference_type</KBD> item is equal to 0.
</P><H3 CLASS="Head2"><A NAME="pgfId-8030"></A>6.13.3	method_descriptor_info<A NAME="marker-54621"></A></H3>
<P CLASS="Paragraph"><A NAME="pgfId-8031"></A>The <KBD CLASS="Filename-Command">method_descriptor_info</KBD> structure is used to describe a method defined in this package. This structure contains sufficient information to locate and parse the methods in the Method Component, while the Method Component does not.
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1016699"></A>method_descriptor_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016701"></A>     u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016703"></A>     u1 access_flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016705"></A>     u2 method_offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016707"></A>     u2 type_offset
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016709"></A>     u2 bytecode_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016711"></A>     u2 exception_handler_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016713"></A>     u2 exception_handler_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016715"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-8042"></A>The items of the <KBD CLASS="Filename-Command">method_descriptor_info</KBD> structure are as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8043"></A><KBD CLASS="Filename-Command">token</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8044"></A>The <KBD CLASS="Filename-Command">token</KBD> item represents the static method token (<A HREF="JCVM04naming.html#30947" CLASS="XRef">Section 4.3.7.4, Static Methods and Constructors</A>) or virtual method token (<A HREF="JCVM04naming.html#22193" CLASS="XRef">Section 4.3.7.6, Virtual Methods</A>) or interface method token (<A HREF="JCVM04naming.html#17038" CLASS="XRef">Section 4.3.7.7, Interface Methods</A>) of this method. If this method is a private or package-visible static method, a private or package-visible constructor, or a private virtual method it does not have a token assigned. In this case the value of the <KBD CLASS="Filename-Command">token</KBD> item must be <KBD CLASS="Filename-Command">0xFF</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8045"></A><KBD CLASS="Filename-Command">access_flags</KBD>
</P>
<P CLASS="Paragraph"><A NAME="pgfId-42996"></A>The <KBD CLASS="Filename-Command">access_flags</KBD> item is a mask of modifiers used to describe the access permission to and properties of this method. The <KBD CLASS="Filename-Command">access_flags</KBD> modifiers for methods are shown in the following table.
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000090"> </A> TABLE 6-21 	CAP File Method Descriptor Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-42999"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-43001"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43003"></A><KBD CLASS="Filename-Command">ACC_PUBLIC</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43005"></A><KBD CLASS="Filename-Command">0x01</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43007"></A><KBD CLASS="Filename-Command">ACC_PRIVATE</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43009"></A><KBD CLASS="Filename-Command">0x02</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43011"></A><KBD CLASS="Filename-Command">ACC_PROTECTED</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43013"></A><KBD CLASS="Filename-Command">0x04</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43015"></A><KBD CLASS="Filename-Command">ACC_STATIC</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43017"></A><KBD CLASS="Filename-Command">0x08</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43019"></A><KBD CLASS="Filename-Command">ACC_FINAL</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43021"></A><KBD CLASS="Filename-Command">0x10</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43023"></A><KBD CLASS="Filename-Command">ACC_ABSTRACT</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43025"></A><KBD CLASS="Filename-Command">0x40</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43027"></A><KBD CLASS="Filename-Command">ACC_INIT</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-43029"></A><KBD CLASS="Filename-Command">0x80</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-43031"></A>The method access and modifier flags defined in the table above, except the <KBD CLASS="Filename-Command">ACC_INIT</KBD> flag, are a subset of those defined for methods in a Java <KBD CLASS="Filename-Command">class</KBD> file. They have the same meaning, and are set under the same conditions, as the corresponding flags in a Java <KBD CLASS="Filename-Command">class</KBD> file.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18826"></A>The <KBD CLASS="Filename-Command">ACC_INIT</KBD> flag is set if the method descriptor identifies a constructor methods. In Java a constructor method is recognized by its name, <KBD CLASS="Filename-Command">&lt;init&gt;</KBD>, but in Java Card systems, the name is replaced by a token. As in the Java verifier, these methods require special checks by the verifier for the Java Card platform (&quot;Java Card verifier&quot;).
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8083"></A>All other flag values are reserved. Their values must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8084"></A><KBD CLASS="Filename-Command">method_offset</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8085"></A>If the <KBD CLASS="Filename-Command">class_descriptor_info</KBD> structure that contains this <KBD CLASS="Filename-Command">method_descriptor_info</KBD> structure represents a class, the <KBD CLASS="Filename-Command">method_offset</KBD> item represents a byte offset into the info item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>). The element at that offset must be the beginning of a <KBD CLASS="Filename-Command">method_info</KBD> structure. The <KBD CLASS="Filename-Command">method_info</KBD> structure must represent this method.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8089"></A>If the <KBD CLASS="Filename-Command">class_descriptor_info</KBD> structure that contains this method_descriptor_info structure represents an interface, the value of the <KBD CLASS="Filename-Command">method_offset</KBD> item must be zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8090"></A><KBD CLASS="Filename-Command">type_offset</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8091"></A>The <KBD CLASS="Filename-Command">type_offset</KBD> item must be a valid offset into the <KBD CLASS="Filename-Command">type_descriptor_info</KBD> structure. The type described at that offset represents the signature of this method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8092"></A><KBD CLASS="Filename-Command">bytecode_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8093"></A>The <KBD CLASS="Filename-Command">bytecode_count</KBD> item represents the number of bytecodes in this method. The value is equal to the length of the bytecodes array item in the <KBD CLASS="Filename-Command">method_info</KBD> structure in the method component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) of this method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8094"></A><KBD CLASS="Filename-Command">exception_handler_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8095"></A>The <KBD CLASS="Filename-Command">exception_handler_count</KBD> item represents the number of exception handlers implemented by this method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8096"></A><KBD CLASS="Filename-Command">exception_handler_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8097"></A>The <KBD CLASS="Filename-Command">exception_handler_index</KBD> item represents the index to the first <KBD CLASS="Filename-Command">exception_handlers</KBD> table entry in the method component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>) implemented by this method. Succeeding <KBD CLASS="Filename-Command">exception_handlers</KBD> table entries, up to the value of the <KBD CLASS="Filename-Command">exception_handler_count</KBD> item, are also exception handlers implemented by this method.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-18979"></A>The value of the <KBD CLASS="Filename-Command">exception_handler_index</KBD> item is 0 if the value of the <KBD CLASS="Filename-Command">exception_handler_count</KBD> item is 0.
</P><H3 CLASS="Head2"><A NAME="pgfId-8098"></A>6.13.4	<A NAME="marker-54622"></A>type_descriptor_info</H3>
<P CLASS="Paragraph"><A NAME="pgfId-8099"></A>The <KBD CLASS="Filename-Command">type_descriptor_info</KBD> structure represents the types of fields and signatures of methods defined in this package:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1016829"></A>type_descriptor_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016831"></A>     u2 constant_pool_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016833"></A>     u2 constant_pool_types[constant_pool_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016835"></A>     type_descriptor type_desc[]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016837"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-8108"></A>The <KBD CLASS="Filename-Command">type_descriptor_info</KBD> structure contains the following elements:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8109"></A><KBD CLASS="Filename-Command">constant_pool_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8110"></A>The <KBD CLASS="Filename-Command">constant_pool_count</KBD> item represents the number of entries in the <KBD CLASS="Filename-Command">constant_pool_types</KBD> array. This value is equal to the number of entries in the <KBD CLASS="Filename-Command">constant_pool</KBD> array of the Constant Pool Component (<A HREF="JCVM06cap.html#23719" CLASS="XRef">Section 6.7, Constant Pool Component</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8111"></A>constant_pool_types[]
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8112"></A>The <KBD CLASS="Filename-Command">constant_pool_types</KBD> item is an array that describes the types of the fields and methods referenced in the Constant Pool Component. This item has the same number of entries as the <KBD CLASS="Filename-Command">constant_pool[]</KBD> array of the Constant Pool Component, and each entry describes the type of the corresponding entry in the <KBD CLASS="Filename-Command">constant_pool[]</KBD> array.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-19212"></A>If the corresponding <KBD CLASS="Filename-Command">constant_pool[]</KBD> array entry represents a class or interface reference, it does not have an associated type. In this case the value of the entry in the <KBD CLASS="Filename-Command">constant_pool_types</KBD> array item is <KBD CLASS="Filename-Command">0xFFFF</KBD>.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-19189"></A>If the corresponding <KBD CLASS="Filename-Command">constant_pool[]</KBD> array entry represents a field or method, the value of the entry in the <KBD CLASS="Filename-Command">constant_pool_types</KBD> array is an offset into the <KBD CLASS="Filename-Command">type_descriptor_info</KBD> structure. The element at that offset must describe the type of the field or the signature of the method.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-8113"></A><KBD CLASS="Filename-Command">type_desc[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-8114"></A>The <KBD CLASS="Filename-Command">type_desc</KBD> item represents a table of variable-length <KBD CLASS="Filename-Command">type_descriptor</KBD> structures. These descriptors represent the types of fields and signatures of methods. For a description of the <KBD CLASS="Filename-Command">type_descriptor</KBD> structure, see <A HREF="JCVM06cap.html#13201" CLASS="XRef">Section 6.8.1, type_descriptor</A>. 
</P><H2 CLASS="Head1"><A NAME="pgfId-51836"></A>
<DIV>
<HR ALIGN=left SIZE=6 WIDTH=15% noshade>
</DIV>6.14	<A NAME="26211"></A>Debug <A NAME="marker-54623"></A>Component</H2>
<P CLASS="Paragraph"><A NAME="pgfId-51838"></A>This section specifies the format for the Debug Component. The Debug Component contains all the metadata necessary for debugging a package on a suitably instrumented Java Card virtual machine. It is not required for executing Java Card programs in a non-debug environment. 
</P>
<P CLASS="Paragraph"><A NAME="pgfId-53077"></A>The Debug Component references the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>), Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>), and Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). No components reference the Debug Component.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-1016961"></A>The Debug Component is represented by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1016964"></A>debug_component {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016966"></A>    u1 tag
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016968"></A>    u2 size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016970"></A>    u2 string_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016972"></A>    utf8_info strings_table[string_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016974"></A>    u2 package_name_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016976"></A>    u2 class_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016978"></A>    class_debug_info classes[class_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1016980"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-51903"></A>The items in the <KBD CLASS="Filename-Command">debug_component</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52262"></A><KBD CLASS="Filename-Command">tag</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52310"></A>The tag item has the value <KBD CLASS="Filename-Command">COMPONENT_Debug</KBD> (12).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52311"></A><KBD CLASS="Filename-Command">size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52324"></A>The number of bytes in the component, excluding the <KBD CLASS="Filename-Command">tag</KBD> and <KBD CLASS="Filename-Command">size</KBD> items. The value of <KBD CLASS="Filename-Command">size</KBD> must be greater than zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52319"></A><KBD CLASS="Filename-Command">string_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52338"></A>The number of strings in the <KBD CLASS="Filename-Command">strings_table[]</KBD> table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52320"></A><KBD CLASS="Filename-Command">strings_table[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52339"></A>A table of all the strings used in this component. Various items that occur through this component represent unsigned two-byte indices into this table.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52367"></A>Each entry in the table is a <KBD CLASS="Filename-Command">utf8_info</KBD> structure. A <KBD CLASS="Filename-Command">utf8_info</KBD> structure is represented by the following structure:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1017050"></A>   utf8_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017052"></A>       u2 length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017054"></A>       u1 bytes[length]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017056"></A>   }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-52382"></A>The items in the <KBD CLASS="Filename-Command">utf8_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52384"></A><KBD CLASS="Filename-Command">  length</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52386"></A>The number of bytes in the string.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52385"></A><KBD CLASS="Filename-Command">  bytes</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52387"></A>The bytes of the string in UTF-8 format.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52321"></A><KBD CLASS="Filename-Command">package_name_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52340"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item. The <KBD CLASS="Filename-Command">strings_table[]</KBD> item entry referenced by this index must contain the fully-qualified name of the package in this CAP file.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52322"></A><KBD CLASS="Filename-Command">class_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52341"></A>The number of classes in the classes table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52323"></A><KBD CLASS="Filename-Command">classes[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52342"></A>Contains a single <KBD CLASS="Filename-Command">class_debug_info[]</KBD> structure for each class in this package.
</P><H3 CLASS="Head2"><A NAME="pgfId-52400"></A>6.14.1	The <A NAME="marker-54624"></A>class_debug_info Structure</H3>
<P CLASS="Paragraph"><A NAME="pgfId-51926"></A>The <KBD CLASS="Filename-Command">class_debug_info</KBD> structure contains all of the debugging information for a class or interface. It also contains tables of debugging information for all its classes' fields and methods.
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1017117"></A>class_debug_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017119"></A>    u2 name_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017121"></A>    u2 access_flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017123"></A>    u2 location
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017125"></A>    u2 superclass_name_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017127"></A>    u2 source_file_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017129"></A>    u1 interface_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017131"></A>    u2 field_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017133"></A>    u2 method_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017135"></A>    u2 interface_names_indexes[interface_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017137"></A>    field_debug_info fields[field_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017139"></A>    method_debug_info methods[method_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017141"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-52467"></A>The items in the <KBD CLASS="Filename-Command">class_debug_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52468"></A><KBD CLASS="Filename-Command">name_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52486"></A><KBD CLASS="Filename-Command">Contains an index into the strings_table[] item of the debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[]</KBD> entry at the indexed location must be the fully-qualified name of this class.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52476"></A><KBD CLASS="Filename-Command">access_flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52491"></A>A two-byte mask of modifiers that apply to this class. The modifiers are:
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000108"> </A> TABLE 6-22 	Class Access and Modifier Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-52534"></A>Modifier
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-52536"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52538"></A><KBD CLASS="Filename-Command">ACC_PUBLIC</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52540"></A><KBD CLASS="Filename-Command">0x0001</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52542"></A><KBD CLASS="Filename-Command">ACC_FINAL</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52544"></A><KBD CLASS="Filename-Command">0x0010</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52546"></A><KBD CLASS="Filename-Command">ACC_REMOTE</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52548"></A><KBD CLASS="Filename-Command">0x0020</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53609"></A><KBD CLASS="Filename-Command">ACC_INTERFACE</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53611"></A><KBD CLASS="Filename-Command">0x0200</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52550"></A><KBD CLASS="Filename-Command">ACC_ABSTRACT</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52552"></A><KBD CLASS="Filename-Command">0x0400</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52554"></A><KBD CLASS="Filename-Command">ACC_SHAREABLE</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52556"></A><KBD CLASS="Filename-Command">0x0800</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-53099"></A>The <KBD CLASS="Filename-Command">ACC_SHAREABLE</KBD> flag indicates whether this class or interface is shareable.<A NAME="fnote10"></A><A HREF="#pgfId-53089"  CLASS="footnote"><SUP>[10]</SUP></A> A class is shareable if it implements (directly or indirectly) the <KBD CLASS="Filename-Command">javacard.framework.Shareable</KBD> interface. An interface is shareable if it is or extends (directly or indirectly) the <KBD CLASS="Filename-Command">javacard.framework.Shareable</KBD> interface.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53600"></A>The <KBD CLASS="Filename-Command">ACC_REMOTE</KBD> flag indicates whether this class or interface is remote. The value of this flag must be one if and only if the class or interface satisfies the requirements defined in <A HREF="JCVM02lang.html#18736" CLASS="XRef">Section 2.2.6.1, Remote Classes and Remote Interfaces</A>. 
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53087"></A>All other class access and modifier flags are defined in the same way and with the same restrictions as described in <I CLASS="Title">The Java Virtual Machine Specification</I>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52477"></A><KBD CLASS="Filename-Command">location</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52589"></A>The byte offset of the <KBD CLASS="Filename-Command">class_info</KBD> or <KBD CLASS="Filename-Command">interface_info</KBD> record for this class or interface into the info item of the Class Component (<A HREF="JCVM06cap.html#12321" CLASS="XRef">Section 6.8, Class Component</A>).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52478"></A><KBD CLASS="Filename-Command">superclass_name_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52594"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item of the <KBD CLASS="Filename-Command">debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[]</KBD> entry at the indexed location must be the fully-qualified name of the superclass of this class or the string &quot;null&quot; if the class has no superclass.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52966"></A><KBD CLASS="Filename-Command">source_file_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52967"></A>Contains the index into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item of the <KBD CLASS="Filename-Command">debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[]</KBD> entry at the indexed location must be the name of the source file in which this class is defined.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52480"></A><KBD CLASS="Filename-Command">interface_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52596"></A>The number of indexes in the <KBD CLASS="Filename-Command">interface_names_indexes[]</KBD> table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52481"></A><KBD CLASS="Filename-Command">field_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52597"></A>The number of <KBD CLASS="Filename-Command">field_debug_info</KBD> structures in the <KBD CLASS="Filename-Command">fields[]</KBD> table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52482"></A><KBD CLASS="Filename-Command">method_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52598"></A>The number of <KBD CLASS="Filename-Command">method_debug_info</KBD> structures in the <KBD CLASS="Filename-Command">methods[]</KBD> table.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52483"></A><KBD CLASS="Filename-Command">interface_names_indexes[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52599"></A>Contains the indexes into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item of the debug_component structure. The <KBD CLASS="Filename-Command">strings_table[]</KBD> entry at each indexed location must be the name of an interface implemented by this class. There must be an index value present for every interface implemented by this class, including interfaces implemented by superclasses of this class and superinterfaces of the implemented interfaces. 
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-55068"></A>If <KBD CLASS="Filename-Command">ACC_INTERFACE</KBD> is set, the <KBD CLASS="Filename-Command">strings_table[</KBD>] entry at each indexed location must be the name of a super interface directly or indirectly extended by this interface. There must be an index value present for every super interface directly or indirectly extended by this interface.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52484"></A><KBD CLASS="Filename-Command">fields[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52600"></A>Contains <KBD CLASS="Filename-Command">field_debug_info</KBD> structures for all the fields declared by this class, including static final fields of primitive types. Inherited fields are not included in this array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52485"></A><KBD CLASS="Filename-Command">methods[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52601"></A>Contains <KBD CLASS="Filename-Command">method_debug_info</KBD> structures for all the methods declared or defined in this class. Inherited methods are not included in this array.
</P><H4 CLASS="Head3"><A NAME="pgfId-52469"></A>6.14.1.1	The field_debug_info <A NAME="marker-54625"></A>Structure</H4>
<P CLASS="Paragraph"><A NAME="pgfId-51999"></A>The <KBD CLASS="Filename-Command">field_debug_info</KBD> structure describes a field in a class. It can describe either an instance field, a static field, or a constant (primitive final static) field. The contents union will have the form of a <KBD CLASS="Filename-Command">token_var</KBD> if the field is an instance field, a <KBD CLASS="Filename-Command">location_var</KBD> if it is a static field, or a <KBD CLASS="Filename-Command">const_value</KBD> if it is a constant.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52602"></A>The <KBD CLASS="Filename-Command">field_debug_info</KBD> structure is defined as follows:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1017299"></A>field_debug_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017301"></A>    u2 name_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017303"></A>    u2 descriptor_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017305"></A>    u2 access_flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017307"></A>    union {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017309"></A>        {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017311"></A>            u1 pad1
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017313"></A>            u1 pad2
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017315"></A>            u1 pad3
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017317"></A>            u1 token
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017319"></A>        } token_var
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017321"></A>        {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017323"></A>            u2 pad
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017325"></A>            u2 location
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017327"></A>        } location_var
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017329"></A>        u4 const_value
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017331"></A>    } contents
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017333"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-52059"></A>The items in the <KBD CLASS="Filename-Command">field_debug_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52605"></A><KBD CLASS="Filename-Command">name_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52612"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item of the <KBD CLASS="Filename-Command">debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[]</KBD> entry at the indexed location must be the simple (meaning, not fully-qualified) name of the field (for example, &quot;<KBD CLASS="Filename-Command">applets</KBD>&quot;).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52606"></A><KBD CLASS="Filename-Command">descriptor_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52613"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item of the <KBD CLASS="Filename-Command">debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[]</KBD> entry at the indexed location must be the type of the field. Class types are fully-qualified (for example, &quot;<KBD CLASS="Filename-Command">[Ljavacard/framework/Applet;</KBD>&quot;).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52607"></A><KBD CLASS="Filename-Command">access_flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52633"></A>A two-byte mask of modifiers that apply to this field. 
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000104"> </A> TABLE 6-23 	Field Access and Modifier Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-52663"></A>Modifier
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-52665"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-52667"></A><KBD CLASS="Filename-Command">ACC_PUBLIC</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-52669"></A><KBD CLASS="Filename-Command">0x0001</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-52671"></A><KBD CLASS="Filename-Command">ACC_PRIVATE</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-52673"></A><KBD CLASS="Filename-Command">0x0002</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52675"></A><KBD CLASS="Filename-Command">ACC_PROTECTED</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52677"></A><KBD CLASS="Filename-Command">0x0004</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52679"></A><KBD CLASS="Filename-Command">ACC_STATIC</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52681"></A><KBD CLASS="Filename-Command">0x0008</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53695"></A><KBD CLASS="Filename-Command">ACC_FINAL</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-53697"></A><KBD CLASS="Filename-Command">0x0010</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-53108"></A>The above field access and modifier flags are defined in the same way and with the same restrictions as described in the <I CLASS="Title"></I><EM CLASS="Emphasis">Java Virtual Machine Specification</EM><I CLASS="Title"></I>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52608"></A><KBD CLASS="Filename-Command">contents</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52615"></A>A <KBD CLASS="Filename-Command">field_debug_info</KBD> structure can describe an instance field, a static field, or a static final field (a constant). Constants can be either primitive data or arrays of primitive data. Depending on the kind of field described, the contents item is interpreted in different ways. The kind and type of the field can be determined by examining the field's descriptor and access flags.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52616"></A><KBD CLASS="Filename-Command">  token_var</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52621"></A>If the field is an instance field, this value is the instance field token of the field. The <KBD CLASS="Filename-Command">pad1</KBD>, <KBD CLASS="Filename-Command">pad2</KBD>, and <KBD CLASS="Filename-Command">pad3</KBD> items are padding only; their values should be ignored.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52610"></A><KBD CLASS="Filename-Command">  location_var</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52622"></A>If the field is a non-final static field or a final static field with an array type (a constant array), this value is the byte offset of the location for this field in the static field image defined by the Static Field Component (<A HREF="JCVM06cap.html#40036" CLASS="XRef">Section 6.10, Static Field Component</A>). The pad item is padding only; its value should be ignored.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52611"></A><KBD CLASS="Filename-Command">  const_value</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-54057"></A>If the field is a final static field of type <KBD CLASS="Filename-Command">byte</KBD>, <KBD CLASS="Filename-Command">boolean</KBD>, <KBD CLASS="Filename-Command">short</KBD>, or <KBD CLASS="Filename-Command">int</KBD>, this value is interpreted as a signed 32-bit constant.
</P><H4 CLASS="Head3"><A NAME="pgfId-54058"></A>6.14.1.2	The <A NAME="marker-54626"></A>method_debug_info Structure</H4>
<P CLASS="Paragraph"><A NAME="pgfId-52061"></A>The <KBD CLASS="Filename-Command">method_debug_info</KBD> structure describes a method of a class. It can describe methods that are either virtual or non-virtual (static or initialization methods). The structure is defined as follows:	
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1017530"></A>method_debug_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017532"></A>    u2 name_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017534"></A>    u2 descriptor_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017536"></A>    u2 access_flags
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017538"></A>    u2 location
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017540"></A>    u1 header_size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017542"></A>    u2 body_size
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017544"></A>    u2 variable_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017546"></A>    u2 line_count
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017548"></A>    variable_info variable_table[variable_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017550"></A>    line_info line_table[line_count]
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017552"></A>}
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-52131"></A>The items in the <KBD CLASS="Filename-Command">method_debug_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52712"></A><KBD CLASS="Filename-Command">name_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52713"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[</KBD>] item of the <KBD CLASS="Filename-Command">debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[</KBD>] entry at the indexed location must be the simple (meaning, not fully-qualified) name of the method (for example, &quot;<KBD CLASS="Filename-Command">lookupAID</KBD>&quot;).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52714"></A><KBD CLASS="Filename-Command">descriptor_index</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52762"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item of the <KBD CLASS="Filename-Command">debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[]</KBD> entry at the indexed location must be the argument and return types of the method (meaning, the signature without the method name). Class types are fully-qualified (for example,  &quot;<KBD CLASS="Filename-Command">([BSB)Ljavacard/framework/AID</KBD>;&quot;)
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52716"></A><KBD CLASS="Filename-Command">access_flags</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52791"></A>A two-byte mask of modifiers that apply to this method. 
</P>
<BR>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR"><CAPTION CLASS="TableCaption"><A NAME="pgfId-1000112"> </A> TABLE 6-24 	Method Modifier Flags </CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-52772"></A>Modifier
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-52774"></A>Value
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52776"></A><KBD CLASS="Filename-Command">ACC_PUBLIC</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52778"></A><KBD CLASS="Filename-Command">0x0001</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52780"></A><KBD CLASS="Filename-Command">ACC_PRIVATE</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52782"></A><KBD CLASS="Filename-Command">0x0002</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52784"></A><KBD CLASS="Filename-Command">ACC_PROTECTED</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52786"></A><KBD CLASS="Filename-Command">0x0004</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52788"></A><KBD CLASS="Filename-Command">ACC_STATIC</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52790"></A><KBD CLASS="Filename-Command">0x0008</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52806"></A><KBD CLASS="Filename-Command">ACC_FINAL</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52808"></A><KBD CLASS="Filename-Command">0x0010</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52802"></A><KBD CLASS="Filename-Command">ACC_NATIVE</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52804"></A><KBD CLASS="Filename-Command">0x0100</KBD>
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52798"></A><KBD CLASS="Filename-Command">ACC_ABSTRACT</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableTextCode"><A NAME="pgfId-52800"></A><KBD CLASS="Filename-Command">0x0400</KBD>
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
<P CLASS="ParaIndent1"><A NAME="pgfId-52826"></A>The <KBD CLASS="Filename-Command">ACC_NATIVE</KBD> flag is only valid for methods of a package located in the card mask. It cannot be used for methods contained in a CAP file.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-53123"></A>All other method access and modifier flags are defined in the same way and with the same restrictions as described in <I CLASS="Title">The Java Virtual Machine Specification</I>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52718"></A><KBD CLASS="Filename-Command">location</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52719"></A>A byte offset of the <KBD CLASS="Filename-Command">method_info</KBD> structure for this method into the info item of the Method Component (<A HREF="JCVM06cap.html#30499" CLASS="XRef">Section 6.9, Method Component</A>). Abstract methods have a location of zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52720"></A><KBD CLASS="Filename-Command">header_size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52721"></A>The size in bytes of the header of the method. Abstract methods have a <KBD CLASS="Filename-Command">header_size</KBD> of zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52722"></A><KBD CLASS="Filename-Command">body_size</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52723"></A>The size in bytes of the body of the method, not including the method header. Abstract methods have a <KBD CLASS="Filename-Command">body_size</KBD> of zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52724"></A><KBD CLASS="Filename-Command">variable_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52725"></A>The number of <KBD CLASS="Filename-Command">variable_info</KBD> entries in the <KBD CLASS="Filename-Command">variable_table[]</KBD> item. Abstract methods have a <KBD CLASS="Filename-Command">variable_count</KBD> of zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52730"></A><KBD CLASS="Filename-Command">line_count</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52731"></A>The number of <KBD CLASS="Filename-Command">line_info</KBD> entries in the <KBD CLASS="Filename-Command">line_table[]</KBD> item. Abstract methods have a <KBD CLASS="Filename-Command">line_count</KBD> of zero.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52732"></A><KBD CLASS="Filename-Command">variable_table[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52733"></A>Contains the <KBD CLASS="Filename-Command">variable_info</KBD> structures for all variables in this method. 
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-1000479"></A>The <KBD CLASS="Filename-Command">variable_info</KBD> structure describes a single local variable of a method. It indicates the index into the local variables of the current frame at which the local variable can be found, as well as the name and type of the variable. It also indicates the range of bytecodes within which the variable has a value.
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1017700"></A>  variable_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017702"></A>        u1 index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017704"></A>        u2 name_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017706"></A>        u2 descriptor_index
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017708"></A>        u2 start_pc
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017710"></A>        u2 length
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017712"></A>   }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="Paragraph"><A NAME="pgfId-52879"></A>The items in the <KBD CLASS="Filename-Command">variable_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52901"></A><KBD CLASS="Filename-Command">  index</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52912"></A>The index of the variable in the local stack frame, as used in load and store bytecodes. If the variable at index is of type <KBD CLASS="Filename-Command">int</KBD>, it occupies both index and index + 1.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52903"></A><KBD CLASS="Filename-Command">  name_index</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52904"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[</KBD>] item of the debug_component structure. The <KBD CLASS="Filename-Command">strings_table[</KBD>] entry at the indexed location must be the name of the local variable, (for example, &quot;<KBD CLASS="Filename-Command">applets</KBD>&quot;).
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52905"></A><KBD CLASS="Filename-Command">  descriptor_index</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52906"></A>Contains an index into the <KBD CLASS="Filename-Command">strings_table[]</KBD> item of the <KBD CLASS="Filename-Command">debug_component</KBD> structure. The <KBD CLASS="Filename-Command">strings_table[</KBD>] entry at the indexed location must be the type of the local variable. Class types are fully-qualified (for example, <KBD CLASS="Filename-Command">&quot;[Ljavacard/framework/Applet;&quot;)</KBD>.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52907"></A><KBD CLASS="Filename-Command">  start_pc</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52908"></A>The index of the first bytecode in which the variable is in-scope and valid.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52909"></A><KBD CLASS="Filename-Command">  length</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52910"></A>Number of bytecodes in which the variable is in-scope and valid. The value of <KBD CLASS="Filename-Command">start_pc + length</KBD> will be either the index of the next bytecode after the valid range, or the first index beyond the end of the bytecode array.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52734"></A><KBD CLASS="Filename-Command">line_table[]</KBD>
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52735"></A>Contains the <KBD CLASS="Filename-Command">line_info</KBD> structures that map bytecode instructions of this method to lines in the class's source file.
</P>
<P CLASS="ParaIndent1"><A NAME="pgfId-52934"></A>Each <KBD CLASS="Filename-Command">line_info</KBD> item represents a mapping of a range of bytecode instructions to a particular line in the source file that contains the method. The range of instructions is from <KBD CLASS="Filename-Command">start_pc</KBD> to <KBD CLASS="Filename-Command">end_pc</KBD>, inclusive. <KBD CLASS="Filename-Command">start_pc</KBD> and <KBD CLASS="Filename-Command">end_pc</KBD> represent a zero-based byte offset within the method. The <KBD CLASS="Filename-Command">source_line</KBD> is the one-based line number in the source file. The structure is defined as follows:
</P>
<DIV CLASS="Code">
<BR>
<TABLE CLASS="Code" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" CELLPADDING=5 CELLSPACING=0 DIR="LTR">
<TBODY>
<TR>
<TD SCOPE="ROW">
<P CLASS="TableTextCode"><A NAME="pgfId-1017803"></A>   line_info {
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017805"></A>       u2 start_pc
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017807"></A>       u2 end_pc
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017809"></A>       u2 source_line
</P>
<P CLASS="TableTextCode"><A NAME="pgfId-1017811"></A>   }
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<BR>
</DIV>
<P CLASS="ParaIndent1"><A NAME="pgfId-52193"></A>The items in the <KBD CLASS="Filename-Command">line_info</KBD> structure are defined as follows:
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52945"></A><KBD CLASS="Filename-Command">  start_pc</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52946"></A>The byte offset of the first bytecode in the range of instructions.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-52947"></A><KBD CLASS="Filename-Command">  end_pc</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-54679"></A>The byte offset of the last operand of the last bytecode in the range of instructions.
</P>
<P CLASS="Paragraph"><A NAME="pgfId-54680"></A><KBD CLASS="Filename-Command">  source_line</KBD>
</P>
<P CLASS="ParaIndent2"><A NAME="pgfId-52950"></A>Line number in the source file.
</P>
<HR>
<DIV CLASS="footnotes">
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">1</SPAN><B><A HREF="#fnote1"> (Footnote) </A></B><A NAME="pgfId-997658"></A></A>Both the Java Card Forum and Global Platform specification have adopted this component load order as a standard to enhance interoperability. In both cases, loading the Descriptor Component is optional. Furthermore, the Global Platform specification defines the format of packets (APDUs) used during installation. </SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">2</SPAN><B><A HREF="#fnote2"> (Footnote) </A></B><A NAME="pgfId-24544"></A></A>Restrictions placed on an applet definition are imposed by the <EM CLASS="Emphasis">Runtime Environment Specification, Java Card Platform, Version 2.2.2</EM>.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">3</SPAN><B><A HREF="#fnote3"> (Footnote) </A></B><A NAME="pgfId-24559"></A></A>Restrictions placed on the install(byte[],short,byte) method of an applet are imposed by the <EM CLASS="Emphasis">Runtime Environment Specification, Java Card Platform, Version 2.2.2</EM>.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">4</SPAN><B><A HREF="#fnote4"> (Footnote) </A></B><A NAME="pgfId-24583"></A></A>The constant pool index parameter of an <I CLASS="Variable">invokespecial</I> bytecode is to a <KBD CLASS="Filename-Command">CONSTANT_StaticMethodref</KBD> when the method referenced is a constructor or a private instance method. In these cases the method invoked is fully known when the <KBD CLASS="Filename-Command">CAP</KBD> file is created. In the cases of virtual method and super method references, the method invoked is dependent upon an instance of a class and its hierarchy, both of which may be partially unknown when the <KBD CLASS="Filename-Command">CAP</KBD> file is created.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">5</SPAN><B><A HREF="#fnote5"> (Footnote) </A></B><A NAME="pgfId-1014078"></A></A>The interface_name[] item is required if the value of ACC_REMOTE is one. This item must be omitted otherwise. See the description of this field for more information.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">6</SPAN><B><A HREF="#fnote6"> (Footnote) </A></B><A NAME="pgfId-1014208"></A></A>The remote_interfaces item is required if the value of ACC_REMOTE is one. This item must be omitted otherwise. See the description of this field for more information.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">7</SPAN><B><A HREF="#fnote7"> (Footnote) </A></B><A NAME="pgfId-23879"></A></A>A Java Card virtual machine uses the <KBD CLASS="Filename-Command">ACC_SHAREABLE</KBD> flag to implement the firewall restrictions defined by the <EM CLASS="Emphasis">Runtime Environment Specification, Java Card Platform, Version 2.2.2</EM>.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">8</SPAN><B><A HREF="#fnote8"> (Footnote) </A></B><A NAME="pgfId-23909"></A></A>Unlike in Java Card <KBD CLASS="Filename-Command">CAP</KBD> files, in Java class files the <KBD CLASS="Filename-Command">max_locals</KBD> item includes both the local variables declared by the method and the parameters passed to the method.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">9</SPAN><B><A HREF="#fnote9"> (Footnote) </A></B><A NAME="pgfId-24600"></A></A>The restriction on shareable functionality is imposed by the firewall as defined in the <EM CLASS="Emphasis">Runtime Environment Specification, Java Card Platform, Version 2.2.2</EM>.</SUP>
<DIV CLASS="footnote"><SUP CLASS="Footnote"><SPAN CLASS="footnoteNumber">10</SPAN><B><A HREF="#fnote10"> (Footnote) </A></B><A NAME="pgfId-53089"></A></A>The <KBD CLASS="Filename-Command">ACC_SHAREABLE</KBD> flag is defined to enable Java Card virtual machines to implement the firewall restrictions defined by the <EM CLASS="Emphasis">Runtime Environment Specification, Java Card Platform, Version 2.2.2</EM>.</SUP>
<div class="navbar" align="center">
<br>
<br>
<table dir="LTR" summary="Navigation bar, includes the book title and navigation buttons" width=100% cellpadding="0" cellspacing="0" border="0"><colgroup span="3" width="100%"><col id="1" span="1" width="45%"><col id="2" span="1" width="25%"><col id="3" span="1" width="30%">
<tr bgcolor="#cccccc">
<td class="navbartitle" align=left rowspan="1" colspan="1" abbr="ChapTitle">&nbsp;&nbsp;Virtual Machine Specification, Java Card Platform, v2.2.2
</td>
<td class="navbartitle" align=right rowspan="1" colspan="1" abbr="PartNum">3-11-06
</td>
<td valign="top" align="right" rowspan="1" colspan="1" abbr="NavButtons"><a href="index.html"><img src="shared/toc01.gif" title="Table Of Contents" alt="Table Of Contents" width="30" height="26" border="0"></a><a href="JCVM05export.html"><img src="shared/prev01.gif" title="Previous Chapter" alt="Previous Chapter" width="30" height="26" border="0"></a><a href="JCVM07instr.html"><img src="shared/next01.gif" title="Next Chapter" alt="Next Chapter" width="30" height="26" border="0"></a><a href="ix.html"><img src="shared/index01.gif" title="Book Index" alt="Book Index" width="30" height="26" border="0"></a>
</td>
</tr>
</table>
<br>
<br>
</div>
<P CLASS="copyrightlink"><a href="copyright.html">Copyright</a> &#169; 2005, Sun Microsystems, Inc.   All Rights Reserved.
</P>
</BODY>
</HTML>
