<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=ISO-8859-1">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="GENERATOR"
 content="Adobe FrameMaker 7.0/HTML Export Filter">
  <link rel="STYLESHEET" href="unx_unstr_styles.css"
 charset="ISO-8859-1" type="text/css">
  <meta name="DC.TITLE"
 content="Development Kit User's Guide, Java Card Platform, Version 2.2.2">
  <title>C H A P T E R 7 - Verifying CAP and Export Files</title>
</head>
<body bgcolor="#ffffff">
<div>
<div class="navbar" align="center">
<table dir="ltr"
 summary="Navigation bar, includes the book title and navigation buttons"
 width="100%" cellpadding="0" cellspacing="0" border="0">
  <colgroup span="2" width="100%"><col id="1" span="1" width="50%"><col
 id="2" span="1" width="50%"></colgroup><tbody>
    <tr bgcolor="#cccccc">
      <td class="navbartitle" align="left" rowspan="1" colspan="1"
 abbr="ChapTitle">&nbsp;&nbsp;Development Kit User's Guide, Java Card
Platform, Version 2.2.2 </td>
      <td valign="top" align="right" rowspan="1" colspan="1"
 abbr="NavButtons"><a href="index.html"><img src="shared/toc01.gif"
 title="Table Of Contents" alt="Table Of Contents" width="30"
 height="26" border="0"></a><a href="cJDKviewexport.html"><img
 src="shared/prev01.gif" title="Previous Chapter" alt="Previous Chapter"
 width="30" height="26" border="0"></a><a href="cJDKcapgen.html"><img
 src="shared/next01.gif" title="Next Chapter" alt="Next Chapter"
 width="30" height="26" border="0"></a><a href="ix.html"><img
 src="shared/index01.gif" title="Book Index" alt="Book Index" width="30"
 height="26" border="0"></a> </td>
    </tr>
  </tbody>
</table>
<br>
<br>
</div>
</div>
<table dir="ltr" summary="Chapter Number" abbr="ChapNum" width="100%"
 border="0">
  <colgroup span="1" width="100%"><col id="1" span="1"></colgroup><tbody>
    <tr>
      <td align="right" class="ChapNumber"><span class="ChapNumPrefix"><a
 name="pgfId-1000353"></a>C H A P T E R </span>&nbsp;<span
 class="ChapNumNum">7</span><a name="67144"></a> </td>
    </tr>
  </tbody>
</table>
<table dir="ltr" summary="Chapter Title" abbr="ChapTitle" width="100%"
 border="0">
  <colgroup span="1" width="100%"><col id="1" span="1" width="100%"></colgroup><tbody>
    <tr>
      <td align="right" class="ChapTitle">
      <hr size="7" noshade="noshade"><a name="pgfId-1000355"></a><a
 name="91898"></a>Verifying CAP and Export Files </td>
    </tr>
  </tbody>
</table>
<p class="Paragraph"><a name="pgfId-1000357"></a>Off-card <a
 name="marker-1000907"></a>verification<a name="marker-1000710"></a>
provides a means for evaluating CAP and export files in a desktop
environment. When applied to the set of CAP files that will reside on a
Java Card technology compliant smart card and the set of export files
used to construct those CAP files, the Java Card technology-enabled
off-card verifier ("Java Card off-card verifier") provides the means to
assert that the content of the smart card has been verified.
</p>
<p class="Paragraph"><a name="pgfId-1002219"></a><a
 name="marker-1000362"></a>The off-card verifier is a combination of
three tools, <kbd class="Filename-Command">verifycap</kbd>, <kbd
 class="Filename-Command">verifyexp</kbd>, and <kbd
 class="Filename-Command">verifyrev</kbd>. The following sections
describe how to use each tool.
</p>
<ul>
  <li class="Bullet1"><a name="pgfId-1002194"></a><kbd
 class="Filename-Command">verifycap</kbd> - see <a
 href="cJDKverifier.html#11565" class="XRef">Verifying CAP Files</a>. </li>
  <p class="Linebreak"> </p>
  <li class="Bullet1"><a name="pgfId-1002195"></a><kbd
 class="Filename-Command">verifyexp</kbd> - see <a
 href="cJDKverifier.html#53034" class="XRef">Verifying Export Files</a>.
  </li>
  <p class="Linebreak"> </p>
  <li class="Bullet1"><a name="pgfId-1002199"></a><kbd
 class="Filename-Command">verifyrev</kbd> - see <a
 href="cJDKverifier.html#23786" class="XRef">Verifying Binary
Compatibility</a>. </li>
  <p class="Linebreak"> </p>
</ul>
<h2 class="Head1"><a name="pgfId-1000378"></a>
<div>
<hr align="left" size="6" width="15%" noshade="noshade"></div>
<a name="11565"></a>Verifying CAP Files</h2>
<p class="Paragraph"><a name="pgfId-1000380"></a>The<a
 name="marker-1000896"></a> <kbd class="Filename-Command">verifycap</kbd>
tool<a name="marker-1000892"></a> is used to verify a CAP file within
the context of package's export file (if any) and the export files of
imported packages. This verification confirms whether a CAP file is
internally consistent, as defined in Chapter 6 of the <em
 class="Emphasis">Virtual Machine Specification for the Java Card
Platform, Version 2.2.2</em>, and consistent with a context in which it
can reside in a Java Card technology-enabled device.
</p>
<p class="Paragraph"><a name="pgfId-1000384"></a>Each individual export
file is verified as a single unit. The scenario is shown in <em
 class="Z-Xref"><a href="cJDKverifier.html#78597" class="XRef">FIGURE
7-1</a></em>. In the figure, the package <kbd class="Filename-Command">p2</kbd>
CAP file is being verified. Package <kbd class="Filename-Command">p2</kbd>
has a dependency on package <kbd class="Filename-Command">p1</kbd>, so
the export file from package <kbd class="Filename-Command">p1</kbd> is
also input. The <kbd class="Filename-Command">p2.exp</kbd> file is
only required if <kbd class="Filename-Command">p2.cap</kbd> exports
any of its elements. </p>
<a name="pgfId-1000389" style="font-weight: bold;"> </a><span
 style="font-weight: bold;"> FIGURE 7-1 </span><a name="78597"
 style="font-weight: bold;"> </a><span style="font-weight: bold;">
Verifying a CAP file</span><a name="pgfId-1000393"
 style="font-weight: bold;"></a><br>
<p class="FigureBox"><br>
</p>
<p><img src="figures/cJDKverifier-4.jpg"
 title="This figure has already been described in text"
 alt="This figure has already been described in text" align="bottom"></p>
<a name="pgfId-1008400"></a>
<h3 class="Head2"><a name="pgfId-1000395"></a>Running <kbd
 class="Filename-Command">verifycap</kbd><a name="marker-1000394"></a></h3>
<p class="Paragraph"><a name="pgfId-1000396"></a>Command line usage is:
</p>
<pre class="Codeline"><a name="pgfId-1000397"></a>verifycap [<em
 class="Emphasis">options</em>] &lt;<em class="Emphasis">export files</em>&gt; &lt;<em
 class="Emphasis">CAP file</em>&gt;<br></pre>
<p class="Paragraph"><a name="pgfId-1000401"></a>The file to invoke <kbd
 class="Filename-Command">verifycap</kbd> is a shell script (<kbd
 class="Filename-Command">verifycap</kbd>) on the Solaris or Linux
platform and a batch file (<kbd class="Filename-Command">verifycap.bat</kbd>)
on the Microsoft Windows platform.
</p>
<h4 class="Head3"><a name="pgfId-1000405"></a><kbd
 class="Filename-Command">verifycap</kbd> Command Line Arguments</h4>
<p class="Paragraph"><a name="pgfId-1000424"></a>The arguments to this
command line are:
</p>
<br>
<table class="Titled" border="1" bordercolorlight="#FFFFFF"
 bordercolordark="#000000" cellpadding="5" cellspacing="0" dir="ltr">
  <caption class="TableCaption"><a name="pgfId-1000409"> </a> TABLE<br>
7-1 verifycap Command Line Arguments </caption> <thead><tr>
    <th scope="col" rowspan="1" colspan="1" bgcolor="#cccccc">
    <p class="TableHead"><a name="pgfId-1000413"></a>Argument </p>
    </th>
    <th scope="col" rowspan="1" colspan="1" bgcolor="#cccccc">
    <p class="TableHead"><a name="pgfId-1000415"></a>Description </p>
    </th>
  </tr>
  </thead> <tbody>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000417"></a><kbd
 class="Filename-Command">&lt;</kbd><i class="Variable">export files</i><kbd
 class="Filename-Command">&gt;</kbd> </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000419"></a>A list of export
files of the packages that this CAP file uses. </p>
      </td>
    </tr>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000421"></a><kbd
 class="Filename-Command">&lt;</kbd><i class="Variable">CAP file</i><kbd
 class="Filename-Command">&gt;</kbd> </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000423"></a>Name of the CAP
file to be verified. </p>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h4 class="Head3"><a name="pgfId-1000425"></a><kbd
 class="Filename-Command">verifycap</kbd> Command Line Options</h4>
<p class="Paragraph"><a name="pgfId-1000426"></a>For a description of
the command line options available for <kbd class="Filename-Command">verifycap</kbd>,
see <em class="Z-Xref"><a href="cJDKverifier.html#87446" class="XRef">Command
Line Options for Off-Card Verifier Tools</a></em>.
</p>
<h2 class="Head1"><a name="pgfId-1000431"></a>
<div>
<hr align="left" size="6" width="15%" noshade="noshade"></div>
<a name="53034"></a>Verifying Export Files</h2>
<p class="Paragraph"><a name="pgfId-1000433"></a><a
 name="marker-1000432"></a>The <kbd class="Filename-Command">verifyexp</kbd>
tool is used to verify an export file as a single unit. This
verification is "shallow," examining only the content of a single
export file, not including export files of packages referenced by the
package of the export file. The verification determines whether an
export file is internally consistent and viable as defined in Chapter 5
of the <em class="Emphasis">Virtual Machine Specification for the Java
Card Platform, Version 2.2.2</em>. This scenario is illustrated in <em
 class="Z-Xref"><a href="cJDKverifier.html#10171" class="XRef">FIGURE
7-2</a></em>.
</p>
<a name="pgfId-1001534" style="font-weight: bold;"> </a><span
 style="font-weight: bold;"> FIGURE 7-2 </span><a name="10171"
 style="font-weight: bold;"> </a><span style="font-weight: bold;">
Verifying An Export File </span><br>
<p class="FigureBox"><a name="pgfId-1001554"></a>
</p>
<p><img src="figures/cJDKverifier-5.jpg"
 title="This figure has already been described in text."
 alt="This figure has already been described in text." align="bottom"></p>
<a name="pgfId-1008405"></a>
<h3 class="Head2"><a name="pgfId-1001557"></a>Running <kbd
 class="Filename-Command">verifyexp</kbd><a name="marker-1001556"></a></h3>
<p class="Paragraph"><a name="pgfId-1000448"></a>Command line usage is:
</p>
<pre class="Codeline"><a name="pgfId-1000449"></a>verifyexp [<em
 class="Emphasis">options</em>] &lt;e<em class="Emphasis">xport file</em>&gt; <br></pre>
<p class="Paragraph"><a name="pgfId-1000453"></a>The file to invoke <kbd
 class="Filename-Command">verifyexp</kbd> is a shell script (<kbd
 class="Filename-Command">verifyexp</kbd>) on the Solaris or Linux
platform and a batch file (<kbd class="Filename-Command">verifyexp.bat</kbd>)
on the Microsoft Windows platform.
</p>
<h4 class="Head3"><a name="pgfId-1000457"></a><kbd
 class="Filename-Command">verifyexp</kbd> Command Line Arguments</h4>
<p class="Paragraph"><a name="pgfId-1000472"></a>The argument to this
command line is:
</p>
<br>
<table class="Titled" border="1" bordercolorlight="#FFFFFF"
 bordercolordark="#000000" cellpadding="5" cellspacing="0" dir="ltr">
  <caption class="TableCaption"><a name="pgfId-1000461"> </a> TABLE<br>
7-2 verifyexp Command Line Argument </caption> <thead><tr>
    <th scope="col" rowspan="1" colspan="1" bgcolor="#cccccc">
    <p class="TableHead"><a name="pgfId-1000465"></a>Argument </p>
    </th>
    <th scope="col" rowspan="1" colspan="1" bgcolor="#cccccc">
    <p class="TableHead"><a name="pgfId-1000467"></a>Description </p>
    </th>
  </tr>
  </thead> <tbody>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000469"></a>&lt;<i
 class="Variable">export file</i>&gt; </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000471"></a>Fully qualified
path and name of the export file. </p>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h4 class="Head3"><a name="pgfId-1000473"></a><kbd
 class="Filename-Command">verifyexp</kbd> Command Line Options</h4>
<p class="Paragraph"><a name="pgfId-1000474"></a>For a description of
the command line options available for <kbd class="Filename-Command">verifyexp</kbd>,
see <em class="Z-Xref"><a href="cJDKverifier.html#87446" class="XRef">Command
Line Options for Off-Card Verifier Tools</a></em>.
</p>
<h2 class="Head1"><a name="pgfId-1000479"></a>
<div>
<hr align="left" size="6" width="15%" noshade="noshade"></div>
<a name="23786"></a>Verifying Binary Compatibility</h2>
<p class="Paragraph"><a name="pgfId-1000481"></a><a
 name="marker-1000480"></a>The <kbd class="Filename-Command">verifyrev</kbd>
tool checks for binary compatibility between revisions of a package by
comparing the respective export files. This scenario is illustrated in <em
 class="Z-Xref"><a href="cJDKverifier.html#83747" class="XRef">FIGURE
7-3</a></em>. The export files from version 1.0 and 1.1 of package <kbd
 class="Filename-Command">p1</kbd> are input to <kbd
 class="Filename-Command">verifyrev</kbd>. The verification examines
whether the Java Card platform version rules, including those imposed
for binary compatibility as defined in Section 4.4 of the <em
 class="Emphasis">Virtual Machine Specification for the Java Card
Platform, Version 2.2.2</em>, have been followed. </p>
<a name="pgfId-1000489" style="font-weight: bold;"> </a><span
 style="font-weight: bold;"> FIGURE 7-3 </span><a name="83747"
 style="font-weight: bold;"> </a><span style="font-weight: bold;">
Verifying Binary Compatibility Of Export Files </span><br>
<p class="FigureBox"><a name="pgfId-1000493"></a>
</p>
<p><img src="figures/cJDKverifier-6.jpg"
 title="This figure has already been described in text."
 alt="This figure has already been described in text." align="bottom"></p>
<a name="pgfId-1008410"></a>
<h3 class="Head2"><a name="pgfId-1000495"></a>Running <kbd
 class="Filename-Command">verifyrev</kbd><a name="marker-1000494"></a></h3>
<p class="Paragraph"><a name="pgfId-1000496"></a>Command line usage is:
</p>
<pre class="Codeline"><a name="pgfId-1000497"></a>verifyrev [<em
 class="Emphasis">options</em>] &lt;<em class="Emphasis">export file</em>&gt; &lt;<em
 class="Emphasis">export file</em>&gt; <br></pre>
<p class="Paragraph"><a name="pgfId-1000501"></a>The file to invoke <kbd
 class="Filename-Command">verifyrev</kbd> is a shell script (<kbd
 class="Filename-Command">verifyrev</kbd>) on the Solaris or Linux
platform and a batch file (<kbd class="Filename-Command">verifyrev.bat</kbd>)
on the Microsoft Windows platform.
</p>
<h4 class="Head3"><a name="pgfId-1000505"></a><kbd
 class="Filename-Command">verifyrev</kbd> Command Line Arguments</h4>
<p class="Paragraph"><a name="pgfId-1000506"></a>The arguments to this
command line are:
</p>
<pre class="Codeline"><a name="pgfId-1000507"></a>&lt;<em
 class="Emphasis">export file</em>&gt; &lt;<em class="Emphasis">export file</em>&gt; <br></pre>
<p class="Paragraph"><a name="pgfId-1000508"></a>Where &lt;<em
 class="Emphasis">export file</em>&gt;<i class="EquationVariables"> </i>represents
the fully qualified path of the export files to be compared.
</p>
<p class="Paragraph"><a name="pgfId-1000509"></a>The second export file
name must be the same as the first one with a different path. For
example, </p>
<pre class="Codeline"><a name="pgfId-1000510"></a>verifyrev d:\testing\old\crypto.exp d:\testing\new\crypto.exp<br></pre>
<h4 class="Head3"><a name="pgfId-1000511"></a><kbd
 class="Filename-Command">verifyrev</kbd> Command Line Options</h4>
<p class="Paragraph"><a name="pgfId-1000512"></a>For a description of
the command line options available for <kbd class="Filename-Command">verifyrev</kbd>,
see <em class="Z-Xref"><a href="cJDKverifier.html#87446" class="XRef">Command
Line Options for Off-Card Verifier Tools</a></em>.
</p>
<h2 class="Head1"><a name="pgfId-1000517"></a>
<div>
<hr align="left" size="6" width="15%" noshade="noshade"></div>
<a name="87446"></a>Command Line Options for Off-Card Verifier Tools</h2>
<p class="Paragraph"><a name="pgfId-1000519"></a><a
 name="marker-1000518"></a>The <kbd class="Filename-Command">verifycap</kbd>,
<kbd class="Filename-Command">verifyexp</kbd>, and <kbd
 class="Filename-Command">verifyrev</kbd>, off-card verifier tools
share many of the same command line options. The only exception is the <kbd
 class="Filename-Command">-package</kbd> option which is available for <kbd
 class="Filename-Command">verifycap</kbd> only.
</p>
<p class="Paragraph"><a name="pgfId-1000554"></a>These options exhibit
the same behavior regardless of the tool that calls them. </p>
<br>
<table class="Titled" border="1" bordercolorlight="#FFFFFF"
 bordercolordark="#000000" cellpadding="5" cellspacing="0" dir="ltr">
  <caption class="TableCaption"><a name="pgfId-1000523"> </a> TABLE<br>
7-3 <kbd class="Filename-Command"> verifycap</kbd>, <kbd
 class="Filename-Command">verifyexp</kbd>, <kbd
 class="Filename-Command">verifyrev</kbd> Command Line Options </caption>
  <thead><tr>
    <th scope="col" rowspan="1" colspan="1" bgcolor="#cccccc">
    <p class="TableHead"><a name="pgfId-1000527"></a>Option </p>
    </th>
    <th scope="col" rowspan="1" colspan="1" bgcolor="#cccccc">
    <p class="TableHead"><a name="pgfId-1000529"></a>Description </p>
    </th>
  </tr>
  </thead> <tbody>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000531"></a><kbd
 class="Filename-Command">-help</kbd> </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000533"></a>Prints help
message. </p>
      </td>
    </tr>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000535"></a><kbd
 class="Filename-Command">-nobanner</kbd> </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000537"></a>Suppresses
banner message. </p>
      </td>
    </tr>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000539"></a><kbd
 class="Filename-Command">-nowarn</kbd> </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000541"></a>Suppresses
warning messages. </p>
      </td>
    </tr>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000543"></a><kbd
 class="Filename-Command">-package</kbd> &lt;<i class="Variable">package
name</i>&gt; </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000545"></a>(<em
 class="Emphasis">Available for </em><kbd class="Filename-Command">verifycap</kbd><em
 class="Emphasis"> only</em>) Sets the name of the package to be
verified. </p>
      </td>
    </tr>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000547"></a><kbd
 class="Filename-Command">-verbose</kbd> </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000549"></a>Enables verbose
mode. </p>
      </td>
    </tr>
    <tr>
      <td scope="row" rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000551"></a><kbd
 class="Filename-Command">-version</kbd> </p>
      </td>
      <td rowspan="1" colspan="1">
      <p class="TableText"><a name="pgfId-1000553"></a>Prints version
number and exit. </p>
      </td>
    </tr>
  </tbody>
</table>
<br>
<p class="Paragraph"><a name="pgfId-1000557"></a>&nbsp;
</p>
<div class="navbar" align="center">
<br>
<br>
<table dir="ltr"
 summary="Navigation bar, includes the book title and navigation buttons"
 width="100%" cellpadding="0" cellspacing="0" border="0">
  <colgroup span="3" width="100%"><col id="1" span="1" width="45%"><col
 id="2" span="1" width="25%"><col id="3" span="1" width="30%"></colgroup><tbody>
    <tr bgcolor="#cccccc">
      <td class="navbartitle" align="left" rowspan="1" colspan="1"
 abbr="ChapTitle">&nbsp;&nbsp;Development Kit User's Guide, Java Card
Platform, Version 2.2.2 </td>
      <td class="navbartitle" align="right" rowspan="1" colspan="1"
 abbr="PartNum">3-14-06 </td>
      <td valign="top" align="right" rowspan="1" colspan="1"
 abbr="NavButtons"><a href="index.html"><img src="shared/toc01.gif"
 title="Table Of Contents" alt="Table Of Contents" width="30"
 height="26" border="0"></a><a href="cJDKviewexport.html"><img
 src="shared/prev01.gif" title="Previous Chapter" alt="Previous Chapter"
 width="30" height="26" border="0"></a><a href="cJDKcapgen.html"><img
 src="shared/next01.gif" title="Next Chapter" alt="Next Chapter"
 width="30" height="26" border="0"></a><a href="ix.html"><img
 src="shared/index01.gif" title="Book Index" alt="Book Index" width="30"
 height="26" border="0"></a> </td>
    </tr>
  </tbody>
</table>
<br>
<br>
</div>
<p class="copyrightlink"><a href="copyright.html">Copyright</a> &copy;
2005, Sun Microsystems, Inc. All Rights Reserved.</p>
</body>
</html>
